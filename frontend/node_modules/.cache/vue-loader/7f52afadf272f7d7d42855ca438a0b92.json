{"remainingRequest":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/stream.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/stream.vue","mtime":1597225158878},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNhbWVyYSIsCiAgbWV0aG9kczogewogICAgLy8gaW5pdGlhbGl6ZSBXZWJjYW0gTGl2ZXN0cmVhbQogICAgaW5pdCgpIHsKICAgICAgaWYgKAogICAgICAgICJtZWRpYURldmljZXMiIGluIG5hdmlnYXRvciAmJgogICAgICAgICJnZXRVc2VyTWVkaWEiIGluIG5hdmlnYXRvci5tZWRpYURldmljZXMKICAgICAgKSB7CiAgICAgICAgLy8gc2V0IHJhdGlvIHRvIDE2OjkKICAgICAgICBsZXQgY29uc3RyYWludHMgPSB7CiAgICAgICAgICB2aWRlbzogewogICAgICAgICAgICB3aWR0aDogewogICAgICAgICAgICAgIG1pbjogNjQwLAogICAgICAgICAgICAgIGlkZWFsOiAxMjgwLAogICAgICAgICAgICAgIG1heDogMTkyMAogICAgICAgICAgICB9LAogICAgICAgICAgICBoZWlnaHQ6IHsKICAgICAgICAgICAgICBtaW46IDM2MCwKICAgICAgICAgICAgICBpZGVhbDogNzIwLAogICAgICAgICAgICAgIG1heDogMTA4MAogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbihzdHJlYW0gPT4gewogICAgICAgICAgY29uc3QgdmlkZW9QbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJ2aWRlbyIpOwogICAgICAgICAgdmlkZW9QbGF5ZXIuc3JjT2JqZWN0ID0gc3RyZWFtOwogICAgICAgICAgdmlkZW9QbGF5ZXIucGxheSgpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCJLZWluIExpdmVzdHJlYW0gdmVyZsO8Z2JhciBha3R1ZWxsLi4uIik7CiAgICAgIH0KICAgIH0sCiAgICAvLyBTY3JlZW5zaG90IG9mIExpdmVzdHJlYW0KICAgIHRha2VQaWN0dXJlKCkgewogICAgICAvLyBkaXNwbGF5IHBpY3R1cmVzIG9uIEdhbGxlcnkgQ2FudmFzCiAgICAgIGNvbnN0IHBpYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImNhbnZhcyIpOwogICAgICAvLyBzZXR0aW5nIHBpY3R1cmUgcXVhbGl0eSBhbmQgbGFuZHNjYXBlCiAgICAgIGxldCByYXRpbyA9IHdpbmRvdy5pbm5lckhlaWdodCA8IHdpbmRvdy5pbm5lcldpZHRoID8gMTYgLyA5IDogOSAvIDE2OwogICAgICAvLyBpZiB3aW5kb3cgd2lkdGggaXMgc21hbGxlciB0aGVuIDEyODBweCB0aGVuIHRha2UgaXRzIHdpZHRoLCBlbHNlIDEyODBweCAtIHNhbWUgZm9yIGhlaWdodAogICAgICBwaWMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCA8IDEyODAgPyB3aW5kb3cuaW5uZXJXaWR0aCA6IDEyODA7CiAgICAgIHBpYy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHJhdGlvOwogICAgICBjb25zdCBjdHggPSBwaWMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHRydWU7CiAgICAgIGN0eC5pbWFnZVNtb290aGluZ1F1YWxpdHkgPSAiaGlnaCI7CiAgICAgIGN0eC5kcmF3SW1hZ2UoCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigidmlkZW8iKSwKICAgICAgICAwLAogICAgICAgIDAsCiAgICAgICAgcGljLndpZHRoLAogICAgICAgIHBpYy5oZWlnaHQKICAgICAgKTsKICAgIH0KICB9LAogIC8vV2ViY2FtIHNoYWxsIGJlIGluaXRpYWxpemVkIHdoZW4gTGl2ZXN0cmVhbSBCdXR0b24gaXMgc2VsZWN0ZWQKICBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfQp9Owo="},{"version":3,"sources":["stream.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"stream.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"camera\">\n    <video autoplay controls class=\"feed\">\n      <p>Aktuell läuft kein Livestream.</p>\n    </video>\n    <!--- <button class=\"snap\" @click=\"$emit('takePicture')\"> -->\n    <button class=\"btn btn-warning btn-lg\" style=\"margin-top: 15px; margin-bottom: 15px\" @click=\"this.takePicture\">\n      <b>Screenshot</b>\n    </button>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"camera\",\n  methods: {\n    // initialize Webcam Livestream\n    init() {\n      if (\n        \"mediaDevices\" in navigator &&\n        \"getUserMedia\" in navigator.mediaDevices\n      ) {\n        // set ratio to 16:9\n        let constraints = {\n          video: {\n            width: {\n              min: 640,\n              ideal: 1280,\n              max: 1920\n            },\n            height: {\n              min: 360,\n              ideal: 720,\n              max: 1080\n            }\n          }\n        };\n        navigator.mediaDevices.getUserMedia(constraints).then(stream => {\n          const videoPlayer = document.querySelector(\"video\");\n          videoPlayer.srcObject = stream;\n          videoPlayer.play();\n        });\n      } else {\n        alert(\"Kein Livestream verfügbar aktuell...\");\n      }\n    },\n    // Screenshot of Livestream\n    takePicture() {\n      // display pictures on Gallery Canvas\n      const pic = document.querySelector(\"canvas\");\n      // setting picture quality and landscape\n      let ratio = window.innerHeight < window.innerWidth ? 16 / 9 : 9 / 16;\n      // if window width is smaller then 1280px then take its width, else 1280px - same for height\n      pic.width = window.innerWidth < 1280 ? window.innerWidth : 1280;\n      pic.height = window.innerWidth / ratio;\n      const ctx = pic.getContext(\"2d\");\n      ctx.imageSmoothingEnabled = true;\n      ctx.imageSmoothingQuality = \"high\";\n      ctx.drawImage(\n        document.querySelector(\"video\"),\n        0,\n        0,\n        pic.width,\n        pic.height\n      );\n    }\n  },\n  //Webcam shall be initialized when Livestream Button is selected\n  mounted() {\n    this.init();\n  }\n};\n</script>\n\n<style scoped>\n.camera {\n  width: 65vw;\n  height: 25vh;\n  padding: 25px;\n  box-sizing: border-box;\n}\n\n.feed {\n  display: block;\n  width: 100%;\n  max-width: 1280px;\n  box-shadow: 4px 4px 12px 0px rgba(0, 0, 0, 0.25);\n  margin: 0 auto;\n  background-color: #171717;\n}\n</style>"]}]}