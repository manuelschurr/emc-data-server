{"remainingRequest":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/App.vue","mtime":1599666966748},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkZXIgZnJvbSAiLi9jb21wb25lbnRzL2hlYWRlci52dWUiOwppbXBvcnQgUGF0aWVudERhdGEgZnJvbSAiLi9jb21wb25lbnRzL3BhdGllbnREYXRhLnZ1ZSI7CmltcG9ydCBSaWdodFNpZGViYXIgZnJvbSAiLi9jb21wb25lbnRzL3JpZ2h0U2lkZWJhci52dWUiOwppbXBvcnQgTGVmdFNpZGViYXIgZnJvbSAiLi9jb21wb25lbnRzL2xlZnRTaWRlYmFyLnZ1ZSI7CmltcG9ydCBNYWluQ29tcG9uZW50IGZyb20gIi4vY29tcG9uZW50cy9tYWluQ29tcG9uZW50LnZ1ZSI7CmltcG9ydCBSdHdTZWxlY3Rpb24gZnJvbSAiLi9jb21wb25lbnRzL3J0d1NlbGVjdGlvbi52dWUiOwpjb25zdCBheGlvcyA9IHJlcXVpcmUoImF4aW9zIik7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFwcCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJ0d1NlbGVjdGVkOiBmYWxzZSwKICAgICAgUnR3ZG9jdW1lbnQ6IHsKICAgICAgICBsb25nOiBudWxsLAogICAgICAgIGxhdDogbnVsbCwKICAgICAgICBldGE6IG51bGwKICAgICAgfSwKICAgICAgYWN0aXZlQW1idWxhbmNlczogWwogICAgICAgIHsKICAgICAgICAgIGFtYnVsYW5jZUlkOiAzLAogICAgICAgICAgcGF0aWVudElkOiAxLAogICAgICAgICAgaWRlbnRpZmllcjogIk1hbHRlc2VyIEhpbGZzZGllbnN0IC0gTW9ja29iamVrdCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgIGluYWN0aXZlQW1idWxhbmNlczogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBzZWxlY3RlZFJUVzogT2JqZWN0LAogICAgICBydHdMb2NhdGlvbnM6IFtgWyR7OC40ODcyNTV9LCAkezQ5LjQ5MjQyN31dYF0sCiAgICAgIGFwaUtleU9wZW5Sb3V0ZToKICAgICAgICAiNWIzY2UzNTk3ODUxMTEwMDAxY2Y2MjQ4M2FhMWZmNGRiMjg2NGVmOThhNjg3MjA3MTc3NWZiOTMiLAogICAgICBvcGVuUm91dGVFcnJvcjogZmFsc2UsCiAgICAgIGFwaUJ1dHRvbklzRGlzYWJsZWQ6IHRydWUKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXIsCiAgICBQYXRpZW50RGF0YSwKICAgIFJpZ2h0U2lkZWJhciwKICAgIExlZnRTaWRlYmFyLAogICAgTWFpbkNvbXBvbmVudCwKICAgIFJ0d1NlbGVjdGlvbgogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlQXBpS2V5OiBmdW5jdGlvbigpIHsKICAgICAgdmFyIGNvbnRleHQgPSB0aGlzOwogICAgICB2YXIgY29uZmlnID0gewogICAgICAgIG1ldGhvZDogInB1dCIsCiAgICAgICAgLy9UTyBDSEFOR0UKICAgICAgICB1cmw6ICJodHRwczovLzEzNC4xNTUuNDguMjExOjMwMDAvYXBpS2V5L3VwZGF0ZS8xIiwKICAgICAgICBoZWFkZXJzOiB7fSwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBhcGlLZXlJZDogMSwKICAgICAgICAgIHZhbHVlOiB0aGlzLmFwaUtleU9wZW5Sb3V0ZQogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGF4aW9zKGNvbmZpZykKICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgY29udGV4dC5vcGVuUm91dGVFcnJvciA9IGZhbHNlOwogICAgICAgICAgY29udGV4dC5nZXRHbnNzZGF0YSgpOwogICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICB9LAogICAgZ2V0QXBpS2V5OiBmdW5jdGlvbigpIHsKICAgICAgdmFyIGNvbnRleHQgPSB0aGlzOwogICAgICB2YXIgY29uZmlnID0gewogICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgLy9UTyBDSEFOR0UKICAgICAgICB1cmw6ICJodHRwczovLzEzNC4xNTUuNDguMjExOjMwMDAvYXBpS2V5L2ZpbmRBbGwiLAogICAgICAgIGhlYWRlcnM6IHt9CiAgICAgIH07CgogICAgICBheGlvcyhjb25maWcpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIGNvbnRleHQuYXBpS2V5T3BlblJvdXRlID0gcmVzcG9uc2UuZGF0YS5kYXRhWzBdLnZhbHVlOwogICAgICAgICAgY29udGV4dC5nZXRHbnNzZGF0YSgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlUlRXOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5ydHdTZWxlY3RlZCA9ICF0aGlzLnJ0d1NlbGVjdGVkOwogICAgICB0aGlzLnNlbGVjdGVkUlRXID0gT2JqZWN0OwogICAgICAvL3RoaXMuYWN0aXZlQW1idWxhbmNlcyA9IFtdOwogICAgICB0aGlzLlJ0d2RvY3VtZW50LmxvbmcgPSBudWxsOwogICAgICB0aGlzLlJ0d2RvY3VtZW50LmxhdCA9IG51bGw7CiAgICAgIHRoaXMuUnR3ZG9jdW1lbnQuZXRhID0gbnVsbDsKICAgIH0sCiAgICBzZWxlY3RSVFc6IGZ1bmN0aW9uKHJ0dykgewogICAgICB0aGlzLnJ0d1NlbGVjdGVkID0gIXRoaXMucnR3U2VsZWN0ZWQ7CiAgICAgIHRoaXMuc2VsZWN0ZWRSVFcgPSBydHc7CiAgICAgIHRoaXMuUnR3ZG9jdW1lbnQuZXRhID0gcnR3LmV0YTsKICAgICAgdGhpcy5SdHdkb2N1bWVudC5sb25nID0gcnR3Lmxvbmc7CiAgICAgIHRoaXMuUnR3ZG9jdW1lbnQubGF0ID0gcnR3LmxhdDsKICAgIH0sCiAgICBnZXRHbnNzZGF0YTogZnVuY3Rpb24oKSB7CiAgICAgIGxldCBjb25maWcgPSB7CiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICB1cmw6CiAgICAgICAgICAiaHR0cHM6Ly8xMzQuMTU1LjQ4LjIxMTozMDAwL2FtYnVsYW5jZS9maW5kR25zc0J5QW1idWxhbmNlSWQvIiArCiAgICAgICAgICB0aGlzLnNlbGVjdGVkUlRXLmFtYnVsYW5jZUlkCiAgICAgIH07CgogICAgICBheGlvcyhjb25maWcpCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy5ydHdMb2NhdGlvbnMuc3BsaWNlKAogICAgICAgICAgICAxLAogICAgICAgICAgICAxLAogICAgICAgICAgICBgWyR7cmVzcG9uc2UuZGF0YS5kYXRhLmxvbmdpdHVkZX0sICR7cmVzcG9uc2UuZGF0YS5kYXRhLmxhdGl0dWRlfV1gCiAgICAgICAgICApOwogICAgICAgICAgdGhpcy5SdHdkb2N1bWVudC5sb25nID0gcmVzcG9uc2UuZGF0YS5kYXRhLmxvbmdpdHVkZTsKICAgICAgICAgIHRoaXMuUnR3ZG9jdW1lbnQubGF0ID0gcmVzcG9uc2UuZGF0YS5kYXRhLmxhdGl0dWRlOwogICAgICAgICAgdGhpcy5jb21wdXRlRVRBKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgfSwKICAgIGNvbXB1dGVFVEE6IGZ1bmN0aW9uKCkgewogICAgICBsZXQgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICBpZiAodGhpcy5ydHdMb2NhdGlvbnMubGVuZ3RoID4gMSkgewogICAgICAgIHJlcXVlc3Qub3BlbigKICAgICAgICAgICJQT1NUIiwKICAgICAgICAgICJodHRwczovL2FwaS5vcGVucm91dGVzZXJ2aWNlLm9yZy92Mi9tYXRyaXgvZHJpdmluZy1jYXIiCiAgICAgICAgKTsKCiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKAogICAgICAgICAgIkFjY2VwdCIsCiAgICAgICAgICAiYXBwbGljYXRpb24vanNvbiwgYXBwbGljYXRpb24vZ2VvK2pzb24sIGFwcGxpY2F0aW9uL2dweCt4bWwsIGltZy9wbmc7IGNoYXJzZXQ9dXRmLTgiCiAgICAgICAgKTsKICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsICJhcHBsaWNhdGlvbi9qc29uIik7CiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKAogICAgICAgICAgIkF1dGhvcml6YXRpb24iLAogICAgICAgICAgdGhpcy5hcGlLZXlPcGVuUm91dGUgLy9BUEkgS2V5CiAgICAgICAgKTsKICAgICAgICBsZXQgY29udGV4dCA9IHRoaXM7CiAgICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgICAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgPT09IDQpIHsKICAgICAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICBjb250ZXh0LnNlbGVjdGVkUlRXLmV0YSA9IGNvbnRleHQuc2VjVG9UaW1lKAogICAgICAgICAgICAgICAgSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCkuZHVyYXRpb25zWzFdWzBdCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICBjb250ZXh0LlJ0d2RvY3VtZW50LmV0YSA9IGNvbnRleHQuc2VsZWN0ZWRSVFcuZXRhOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJUZXN0IHJlcXVlc3QiKTsKICAgICAgICAgICAgICBjb250ZXh0LiRmb3JjZVVwZGF0ZSgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNvbnRleHQuc2VsZWN0ZWRSVFcuZXRhID0gIkZlaGxlciBiZWkgUm91dGVuIFNjaG5pdHRzdGVsbGUiOwogICAgICAgICAgICAgIGNvbnRleHQub3BlblJvdXRlRXJyb3IgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBjb25zdCBib2R5ID0gYHsibG9jYXRpb25zIjogWyR7dGhpcy5ydHdMb2NhdGlvbnN9XX1gOwogICAgICAgIHJlcXVlc3Quc2VuZChib2R5KTsKICAgICAgfQogICAgfSwKICAgIHNlY1RvVGltZTogZnVuY3Rpb24oZXRhSW5TZWMpIHsKICAgICAgaWYgKCFpc05hTihldGFJblNlYykpIHsKICAgICAgICBjb25zdCBydHdUaW1lUmVkdWN0aW9uRmFjdG9yID0gMC43MzQ7CiAgICAgICAgZXRhSW5TZWMgPSBldGFJblNlYyAqIHJ0d1RpbWVSZWR1Y3Rpb25GYWN0b3I7CiAgICAgICAgdmFyIHNlY29uZHMgPSBNYXRoLmZsb29yKGV0YUluU2VjICUgNjApLnRvU3RyaW5nKCk7CiAgICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKGV0YUluU2VjIC8gNjApLnRvU3RyaW5nKCk7CiAgICAgICAgaWYgKHNlY29uZHMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICBzZWNvbmRzID0gIjAiICsgc2Vjb25kczsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG1pbnV0ZXMgKyAiIE1pbnV0ZW4gIiArIHNlY29uZHMgKyAiIFNla3VuZGVuIjsKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHJ0d1NlbGVjdGVkOiB7CiAgICAgIGhhbmRsZXIoKSB7CiAgICAgICAgLy8gUmVxdWVzdCBHTlNTIERhdGEgZnJvbSBTZXJ2ZXIgZXZlcnkgMTAgU2Vjb25kcwogICAgICAgIGlmICh0aGlzLnJ0d1NlbGVjdGVkKSB7CiAgICAgICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICB0aGlzLmdldEduc3NkYXRhKCk7CiAgICAgICAgICB9LCAxMDAwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYXBpS2V5T3BlblJvdXRlOiB7CiAgICAgIGhhbmRsZXIoKSB7CiAgICAgICAgaWYgKHRoaXMuYXBpS2V5T3BlblJvdXRlLmxlbmd0aCA9PT0gNTYpIHsKICAgICAgICAgIHRoaXMuYXBpQnV0dG9uSXNEaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmFwaUJ1dHRvbklzRGlzYWJsZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24oKSB7CiAgICB0aGlzLiRyb290LiRvbigidG9rZW5TdGF0dXMiLCBkYXRhID0+IHsKICAgICAgdGhpcy5vcGVuUm91dGVFcnJvciA9IGRhdGE7CiAgICB9KTsKCiAgICB0aGlzLiRyb290LiRvbigiYXBpVG9rZW4iLCBkYXRhID0+IHsKICAgICAgdGhpcy5hcGlLZXlPcGVuUm91dGUgPSBkYXRhOwogICAgfSk7CgogICAgdGhpcy5nZXRBcGlLZXkoKTsKICAgIC8vIENvbnN1bWUgUkVTVC1BUEkKICAgIGxldCBydHdBUEkgPSAiaHR0cHM6Ly8xMzQuMTU1LjQ4LjIxMTozMDAwL2FtYnVsYW5jZS9maW5kQWxsIjsKCiAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgYXhpb3MKICAgICAgLmdldChydHdBUEkpCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBmb3IgKHZhciBhbWJ1bGFuY2Ugb2YgcmVzcG9uc2UuZGF0YS5kYXRhKSB7CiAgICAgICAgICBpZiAoYW1idWxhbmNlLnBhdGllbnRJZCAhPSAwKSB7CiAgICAgICAgICAgIHRoaXMuYWN0aXZlQW1idWxhbmNlcy5wdXNoKGFtYnVsYW5jZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmluYWN0aXZlQW1idWxhbmNlcy5wdXNoKGFtYnVsYW5jZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIHIgb2YgdGhpcy5hY3RpdmVBbWJ1bGFuY2VzKSB7CiAgICAgICAgICByLmV0YSA9IDA7CiAgICAgICAgfQogICAgICB9KQogICAgICAuY2F0Y2goZXJyb3JzID0+IHsKICAgICAgICAvLyByZWFjdCBvbiBlcnJvcnMuCiAgICAgICAgY29uc29sZS5lcnJvcigiQVhJT1MgRVJST1I6ICIgKyBlcnJvcnMpOwogICAgICB9KQogICAgICAuZmluYWxseSgoKSA9PiAodGhpcy5sb2FkaW5nID0gZmFsc2UpKTsKICB9Cn07Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"d-flex justify-content-center\" v-if=\"loading\">\n      <div\n        class=\"spinner-border\"\n        style=\"position: fixed; top: 50%;\"\n        role=\"status\"\n      ></div>\n      <div style=\"position: fixed; top: 55%;\">\n        Lade anfahrende Rettungswagen\n      </div>\n    </div>\n    <div v-else>\n      <RtwSelection\n        v-if=\"!rtwSelected && !loading\"\n        :selectRTW=\"selectRTW\"\n        :activeAmbulances=\"activeAmbulances\"\n        :inactiveAmbulances=\"inactiveAmbulances\"\n        :Rtwdocument=\"Rtwdocument\"\n        :apiKeyOpenRoute=\"apiKeyOpenRoute\"\n      />\n      <div v-if=\"rtwSelected\">\n        <Header :changeRTW=\"changeRTW\" />\n        <PatientData :patientId=\"selectedRTW.patientId\" />\n        <div v-if=\"openRouteError\">\n          <i class=\"fas fa-exclamation-triangle\"></i>\n          Der API-Token ist abgelaufen. Bitte updaten.\n          <input size=\"60\" v-model=\"apiKeyOpenRoute\" />\n          <button\n            type=\"button\"\n            id=\"btn-api-key\"\n            class=\"btn btn-primary\"\n            v-on:click=\"updateApiKey\"\n            :disabled=\"apiButtonIsDisabled\"\n          >\n            Update\n          </button>\n          <hr style=\"width: 100%; text-align: left; margin-left: 0;\" />\n        </div>\n\n        <div class=\"container-fluid\" v-if=\"rtwSelected\">\n          <div class=\"row align-items-start\">\n            <div class=\"col-2\">\n              <LeftSidebar :arrivalTime=\"selectedRTW.eta\" />\n            </div>\n            <div class=\"col-8\">\n              <MainComponent\n                :Rtwdocument=\"Rtwdocument\"\n                :patientId=\"selectedRTW.patientId\"\n              />\n            </div>\n            <div class=\"col-2\">\n              <RightSidebar />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from \"./components/header.vue\";\nimport PatientData from \"./components/patientData.vue\";\nimport RightSidebar from \"./components/rightSidebar.vue\";\nimport LeftSidebar from \"./components/leftSidebar.vue\";\nimport MainComponent from \"./components/mainComponent.vue\";\nimport RtwSelection from \"./components/rtwSelection.vue\";\nconst axios = require(\"axios\");\n\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      rtwSelected: false,\n      Rtwdocument: {\n        long: null,\n        lat: null,\n        eta: null\n      },\n      activeAmbulances: [\n        {\n          ambulanceId: 3,\n          patientId: 1,\n          identifier: \"Malteser Hilfsdienst - Mockobjekt\"\n        }\n      ],\n      inactiveAmbulances: [],\n      loading: false,\n      selectedRTW: Object,\n      rtwLocations: [`[${8.487255}, ${49.492427}]`],\n      apiKeyOpenRoute:\n        \"5b3ce3597851110001cf62483aa1ff4db2864ef98a6872071775fb93\",\n      openRouteError: false,\n      apiButtonIsDisabled: true\n    };\n  },\n  components: {\n    Header,\n    PatientData,\n    RightSidebar,\n    LeftSidebar,\n    MainComponent,\n    RtwSelection\n  },\n  methods: {\n    updateApiKey: function() {\n      var context = this;\n      var config = {\n        method: \"put\",\n        //TO CHANGE\n        url: \"https://134.155.48.211:3000/apiKey/update/1\",\n        headers: {},\n        data: {\n          apiKeyId: 1,\n          value: this.apiKeyOpenRoute\n        }\n      };\n\n      axios(config)\n        .then(function(response) {\n          context.openRouteError = false;\n          context.getGnssdata();\n          console.log(JSON.stringify(response.data));\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    },\n    getApiKey: function() {\n      var context = this;\n      var config = {\n        method: \"get\",\n        //TO CHANGE\n        url: \"https://134.155.48.211:3000/apiKey/findAll\",\n        headers: {}\n      };\n\n      axios(config)\n        .then(function(response) {\n          context.apiKeyOpenRoute = response.data.data[0].value;\n          context.getGnssdata();\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    },\n    changeRTW: function() {\n      this.rtwSelected = !this.rtwSelected;\n      this.selectedRTW = Object;\n      //this.activeAmbulances = [];\n      this.Rtwdocument.long = null;\n      this.Rtwdocument.lat = null;\n      this.Rtwdocument.eta = null;\n    },\n    selectRTW: function(rtw) {\n      this.rtwSelected = !this.rtwSelected;\n      this.selectedRTW = rtw;\n      this.Rtwdocument.eta = rtw.eta;\n      this.Rtwdocument.long = rtw.long;\n      this.Rtwdocument.lat = rtw.lat;\n    },\n    getGnssdata: function() {\n      let config = {\n        method: \"get\",\n        url:\n          \"https://134.155.48.211:3000/ambulance/findGnssByAmbulanceId/\" +\n          this.selectedRTW.ambulanceId\n      };\n\n      axios(config)\n        .then(response => {\n          this.rtwLocations.splice(\n            1,\n            1,\n            `[${response.data.data.longitude}, ${response.data.data.latitude}]`\n          );\n          this.Rtwdocument.long = response.data.data.longitude;\n          this.Rtwdocument.lat = response.data.data.latitude;\n          this.computeETA();\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    },\n    computeETA: function() {\n      let request = new XMLHttpRequest();\n      if (this.rtwLocations.length > 1) {\n        request.open(\n          \"POST\",\n          \"https://api.openrouteservice.org/v2/matrix/driving-car\"\n        );\n\n        request.setRequestHeader(\n          \"Accept\",\n          \"application/json, application/geo+json, application/gpx+xml, img/png; charset=utf-8\"\n        );\n        request.setRequestHeader(\"Content-Type\", \"application/json\");\n        request.setRequestHeader(\n          \"Authorization\",\n          this.apiKeyOpenRoute //API Key\n        );\n        let context = this;\n        request.onreadystatechange = function() {\n          if (request.readyState === 4) {\n            if (request.status === 200) {\n              context.selectedRTW.eta = context.secToTime(\n                JSON.parse(request.responseText).durations[1][0]\n              );\n              context.Rtwdocument.eta = context.selectedRTW.eta;\n              console.log(\"Test request\");\n              context.$forceUpdate();\n            } else {\n              context.selectedRTW.eta = \"Fehler bei Routen Schnittstelle\";\n              context.openRouteError = true;\n            }\n          }\n        };\n        const body = `{\"locations\": [${this.rtwLocations}]}`;\n        request.send(body);\n      }\n    },\n    secToTime: function(etaInSec) {\n      if (!isNaN(etaInSec)) {\n        const rtwTimeReductionFactor = 0.734;\n        etaInSec = etaInSec * rtwTimeReductionFactor;\n        var seconds = Math.floor(etaInSec % 60).toString();\n        var minutes = Math.floor(etaInSec / 60).toString();\n        if (seconds.length === 1) {\n          seconds = \"0\" + seconds;\n        }\n        return minutes + \" Minuten \" + seconds + \" Sekunden\";\n      }\n    }\n  },\n  watch: {\n    rtwSelected: {\n      handler() {\n        // Request GNSS Data from Server every 10 Seconds\n        if (this.rtwSelected) {\n          this.interval = setInterval(() => {\n            this.getGnssdata();\n          }, 10000);\n        } else {\n          clearInterval(this.interval);\n        }\n      }\n    },\n    apiKeyOpenRoute: {\n      handler() {\n        if (this.apiKeyOpenRoute.length === 56) {\n          this.apiButtonIsDisabled = false;\n        } else {\n          this.apiButtonIsDisabled = true;\n        }\n      }\n    }\n  },\n  mounted: function() {\n    this.$root.$on(\"tokenStatus\", data => {\n      this.openRouteError = data;\n    });\n\n    this.$root.$on(\"apiToken\", data => {\n      this.apiKeyOpenRoute = data;\n    });\n\n    this.getApiKey();\n    // Consume REST-API\n    let rtwAPI = \"https://134.155.48.211:3000/ambulance/findAll\";\n\n    this.loading = true;\n    axios\n      .get(rtwAPI)\n      .then(response => {\n        for (var ambulance of response.data.data) {\n          if (ambulance.patientId != 0) {\n            this.activeAmbulances.push(ambulance);\n          } else {\n            this.inactiveAmbulances.push(ambulance);\n          }\n        }\n        for (var r of this.activeAmbulances) {\n          r.eta = 0;\n        }\n      })\n      .catch(errors => {\n        // react on errors.\n        console.error(\"AXIOS ERROR: \" + errors);\n      })\n      .finally(() => (this.loading = false));\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  min-height: 100vh;\n}\n</style>\n"]}]}