{"remainingRequest":"/Users/marcguldner/GitHub/emc-data-server/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/marcguldner/GitHub/emc-data-server/frontend/src/components/stream.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/src/components/stream.vue","mtime":1599667669237},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IGF4aW9zID0gcmVxdWlyZSgiYXhpb3MiKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjYW1lcmEiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjYXB0dXJlczogW10sCiAgICAgIGltYWdlU3RyaW5nczogW10sCiAgICAgIGNob3NlbkltYWdlOiBudWxsLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgIH07CiAgfSwKICBwcm9wczogewogICAgc2VsZWN0ZWRFbGVtZW50czogTnVtYmVyLAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZmlsbERhdGEoKTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5maWxsRGF0YSwgNTAwMCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbGlja01ldGhvZDogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIHRoaXMuY2hvc2VuSW1hZ2UgPSBldmVudC5jdXJyZW50VGFyZ2V0LnNyYzsKICAgIH0sCiAgICBhc3luYyBmaWxsRGF0YSgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKCiAgICAgIHZhciBib2R5ID0gIiI7CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICAvLyJodHRwczovL2xvY2FsaG9zdDozMDAwL2ltZy9hbGwiLAogICAgICAgIHVybDogImh0dHBzOi8vMTM0LjE1NS40OC4yMTE6MzAwMC9pbWcvYWxsIiwKICAgICAgICBoZWFkZXJzOiB7fSwKICAgICAgICBkYXRhOiBib2R5LAogICAgICB9OwoKICAgICAgYXhpb3MoY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09ICIxMDAwMCIpIHsKICAgICAgICAgIHZhciBuZXdJbWFnZVN0cmluZ3MgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICB2YXIgbmV3VG9BZGQgPSBbXTsKICAgICAgICAgIGZvciAodmFyIGltYWdlIG9mIG5ld0ltYWdlU3RyaW5ncykgewogICAgICAgICAgICBpZiAoIXZtLmltYWdlU3RyaW5ncy5pbmNsdWRlcyhpbWFnZSkpIHsKICAgICAgICAgICAgICB2bS5pbWFnZVN0cmluZ3MucHVzaChpbWFnZSk7CiAgICAgICAgICAgICAgbmV3VG9BZGQucHVzaChpbWFnZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGZvciAodmFyIGltYWdlU3RyIG9mIG5ld1RvQWRkKSB7CiAgICAgICAgICAgIHZhciBib2R5VHdvID0gIiI7CiAgICAgICAgICAgIHZhciBjb25maWdHZXRJbWFnZXMgPSB7CiAgICAgICAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICAgICAgICAvLyJodHRwczovL2xvY2FsaG9zdDozMDAwL2ltZy9zaW5nbGUvIiArIGltYWdlU3RyLAogICAgICAgICAgICAgIHVybDogImh0dHBzOi8vMTM0LjE1NS40OC4yMTE6MzAwMC9pbWcvc2luZ2xlLyIgKyBpbWFnZVN0ciwKICAgICAgICAgICAgICByZXNwb25zZVR5cGU6ICJibG9iIiwKICAgICAgICAgICAgICBoZWFkZXJzOiB7fSwKICAgICAgICAgICAgICBkYXRhOiBib2R5VHdvLAogICAgICAgICAgICB9OwogICAgICAgICAgICBheGlvcyhjb25maWdHZXRJbWFnZXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlSW1hZ2VzKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gIjEwMDAwIikgewogICAgICAgICAgICAgICAgdmFyIHBpYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwocmVzcG9uc2VJbWFnZXMuZGF0YSk7CiAgICAgICAgICAgICAgICB2bS5jYXB0dXJlcy5wdXNoKHBpYyk7CiAgICAgICAgICAgICAgICB2bS5jaG9zZW5JbWFnZSA9IHZtLmNhcHR1cmVzW3ZtLmNhcHR1cmVzLmxlbmd0aCAtIDFdOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["stream.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"stream.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div v-if=\"selectedElements <= 2\">\n    <div\n      class=\"gallery\"\n      id=\"mainDiv\"\n      v-if=\"this.loading && this.captures.length != 0\"\n    >\n      <div class=\"gallery-panel\">\n        <img v-bind:src=\"chosenImage\" width=\"100%\" />\n      </div>\n      <div class=\"row\">\n        <div\n          class=\"itemSpacing\"\n          v-for=\"screenshot in captures\"\n          :key=\"screenshot\"\n        >\n          <img\n            v-on:click=\"clickMethod($event)\"\n            v-bind:src=\"screenshot\"\n            height=\"87\"\n          />\n        </div>\n      </div>\n    </div>\n    <div v-else>Aktuell wurden noch keine Bilder gemacht</div>\n  </div>\n  <div v-else>\n    <div\n      class=\"gallery\"\n      id=\"mainDiv\"\n      v-if=\"this.loading && this.captures.length != 0\"\n    >\n      <div class=\"gallery-panel\">\n        <img v-bind:src=\"chosenImage\" width=\"70%\" />\n      </div>\n    </div>\n    <div v-else>Aktuell wurden noch keine Bilder gemacht</div>\n  </div>\n</template>\n\n<script>\nconst axios = require(\"axios\");\nexport default {\n  name: \"camera\",\n  data() {\n    return {\n      captures: [],\n      imageStrings: [],\n      chosenImage: null,\n      loading: false,\n    };\n  },\n  props: {\n    selectedElements: Number,\n  },\n  mounted() {\n    this.fillData();\n  },\n  created() {\n    this.timer = setInterval(this.fillData, 5000);\n  },\n  methods: {\n    clickMethod: function (event) {\n      this.chosenImage = event.currentTarget.src;\n    },\n    async fillData() {\n      var vm = this;\n      this.loading = true;\n\n      var body = \"\";\n      var config = {\n        method: \"get\",\n        //\"https://localhost:3000/img/all\",\n        url: \"https://134.155.48.211:3000/img/all\",\n        headers: {},\n        data: body,\n      };\n\n      axios(config).then(function (response) {\n        if (response.data.statusCode === \"10000\") {\n          var newImageStrings = response.data.data;\n          var newToAdd = [];\n          for (var image of newImageStrings) {\n            if (!vm.imageStrings.includes(image)) {\n              vm.imageStrings.push(image);\n              newToAdd.push(image);\n            }\n          }\n          for (var imageStr of newToAdd) {\n            var bodyTwo = \"\";\n            var configGetImages = {\n              method: \"get\",\n              //\"https://localhost:3000/img/single/\" + imageStr,\n              url: \"https://134.155.48.211:3000/img/single/\" + imageStr,\n              responseType: \"blob\",\n              headers: {},\n              data: bodyTwo,\n            };\n            axios(configGetImages).then(function (responseImages) {\n              if (response.data.statusCode === \"10000\") {\n                var pic = URL.createObjectURL(responseImages.data);\n                vm.captures.push(pic);\n                vm.chosenImage = vm.captures[vm.captures.length - 1];\n              }\n            });\n          }\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.itemSpacing {\n  margin: 5px 2px 0px 2px;\n}\n.row {\n  margin: 0px 0px;\n}\n</style>\n"]}]}