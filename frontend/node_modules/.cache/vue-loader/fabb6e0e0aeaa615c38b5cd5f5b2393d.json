{"remainingRequest":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/pulsOxy.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/pulsOxy.vue","mtime":1597227530472},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQdWxzT3h5TGluZSBmcm9tICIuL3B1bHNPeHlMaW5lLnZ1ZSI7CmltcG9ydCBQdWxzT3h5X2RhdGExIGZyb20gIi4uL2Fzc2V0cy9QdWxzT3h5X2RhdGExLmpzb24iOwp2YXIgYXhpb3MgPSByZXF1aXJlKCJheGlvcyIpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMaW5lQ2hhcnRDb250YWluZXIiLAogIGNvbXBvbmVudHM6IHsgUHVsc094eUxpbmUgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGVkOiBmYWxzZSwKICAgICAgcHVsc2VEYXRhOiBbXSwKICAgICAgcHVsc2VMYWJlbHM6IFtdLAogICAgICBzcG8yRGF0YTogW10sCiAgICAgIHNwbzJMYWJlbHM6IFtdLAogICAgICBqc29uRGF0YTogUHVsc094eV9kYXRhMSwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5maWxsRGF0YSgpOwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vIHRoaXMuZ2V0UmVhbHRpbWVEYXRhKCkKICAgIC8vIHRoaXMuZmlsbERhdGEoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBsYXN0UHVsc2UoKSB7CiAgICAgIHZhciBsYXN0UHVsc2VEYXRhID0gdGhpcy5wdWxzZURhdGFbdGhpcy5wdWxzZURhdGEubGVuZ3RoIC0gMV07CiAgICAgIHRoaXMuJHJvb3QuJGVtaXQoImxhc3RQdWxzZURhdGEiLCBsYXN0UHVsc2VEYXRhKTsKICAgICAgcmV0dXJuIGxhc3RQdWxzZURhdGE7CiAgICB9LAogICAgbGFzdFNwbzIoKSB7CiAgICAgIHZhciBsYXN0U3BvMkRhdGEgPSB0aGlzLnNwbzJEYXRhW3RoaXMuc3BvMkRhdGEubGVuZ3RoIC0gMV07CiAgICAgIHRoaXMuJHJvb3QuJGVtaXQoImxhc3RTcG8yRGF0YSIsIGxhc3RTcG8yRGF0YSk7CiAgICAgIHJldHVybiBsYXN0U3BvMkRhdGE7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgZmlsbERhdGEoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CgogICAgICB2YXIgcmVxdWVzdCA9IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICBwYXRpZW50SWQ6IDEsCiAgICAgICAgdGltZXN0YW1wOiAiMDktMDctMjAyMCAxMToxNTozNSIsCiAgICAgIH0pOwoKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgIHVybDogImh0dHA6Ly8xMzQuMTU1LjQ4LjIxMTozMDAwL3BhdGllbnQvZmluZFB1bHNveHlCeVBhdGllbnRJZCIsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICB9LAogICAgICAgIGRhdGE6IHJlcXVlc3QsCiAgICAgIH07CgogICAgICBheGlvcyhjb25maWcpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB0aGlzLnB1bHNlRGF0YS5wdXNoKHJlc3BvbnNlLmRhdGEucHVsc3JhdGUudmFsdWUudG9TdHJpbmcoKSk7CiAgICAgICAgICB0aGlzLnB1bHNlTGFiZWxzLnB1c2gocmVzcG9uc2UuZGF0YS50aW1lc3RhbXAuc2xpY2UoMTEsIDE5KSk7CiAgICAgICAgICB0aGlzLnNwbzJEYXRhLnB1c2gocmVzcG9uc2UuZGF0YS5zcG8yLnZhbHVlLnRvU3RyaW5nKCkpOwogICAgICAgICAgdGhpcy5zcG8yTGFiZWxzLnB1c2gocmVzcG9uc2UuZGF0YS50aW1lc3RhbXAuc2xpY2UoMTEsIDE5KSk7CiAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiQVhJT1MgRVJST1I6ICIgKyBlcnJvcik7CiAgICAgICAgfSkKICAgICAgICAuZmluYWxseSgoKSA9PiAodGhpcy5sb2FkaW5nID0gZmFsc2UpKTsKCiAgICAgIC8vIGZvciAodmFyIGRhdGEgb2YgdGhpcy5qc29uRGF0YS5zbGljZSgKICAgICAgLy8gICB0aGlzLmpzb25EYXRhLmxlbmd0aCAtIDIwLAogICAgICAvLyAgIHRoaXMuanNvbkRhdGEubGVuZ3RoCiAgICAgIC8vICkpIHsKICAgICAgLy8gICB0aGlzLnB1bHNlRGF0YS5wdXNoKGRhdGEucHVsc294eS5wdWxzUmF0ZS52YWx1ZS50b1N0cmluZygpKTsKICAgICAgLy8gICB0aGlzLnB1bHNlTGFiZWxzLnB1c2goZGF0YS5wdWxzb3h5LnB1bHNSYXRlLnRpbWUuc2xpY2UoMCwgOCkpOwogICAgICAvLyAgIHRoaXMuc3BvMkRhdGEucHVzaChkYXRhLnB1bHNveHkuc3BvMi52YWx1ZS50b1N0cmluZygpKTsKICAgICAgLy8gICB0aGlzLnNwbzJMYWJlbHMucHVzaChkYXRhLnB1bHNveHkuc3BvMi50aW1lLnNsaWNlKDAsIDgpKTsKICAgICAgLy8gfQogICAgICB0aGlzLmxvYWRlZCA9IHRydWU7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["pulsOxy.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pulsOxy.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"row align-items-start\">\n      <div class=\"col-12\">\n        <form class=\"form-inline\" style=\"align-items: center;\">\n          <div class=\"col-9\">\n            <puls-oxy-line\n              class=\"small\"\n              v-if=\"loaded\"\n              :chart-data=\"pulseData\"\n              :chart-labels=\"pulseLabels\"\n            />\n          </div>\n          <div class=\"col-3 pulseColor\">\n            <br />\n            <b>Pulse</b>\n            <br />\n            <span class=\"bigFont\">{{lastPulse}}</span>\n            <svg\n              width=\"1em\"\n              height=\"1em\"\n              viewBox=\"0 0 16 16\"\n              class=\"bi bi-heart\"\n              fill=\"currentColor\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                fill-rule=\"evenodd\"\n                d=\"M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z\"\n              />\n            </svg>\n            <br />PR/min\n          </div>\n        </form>\n      </div>\n      <div class=\"col-12\">\n        <form class=\"form-inline\" style=\"align-items: center;\">\n          <div class=\"col-9\">\n            <puls-oxy-line\n              class=\"small\"\n              v-if=\"loaded\"\n              :chart-data=\"spo2Data\"\n              :chart-labels=\"spo2Labels\"\n            />\n          </div>\n          <div class=\"col-3 spo2Color\">\n            <br />\n            <b>\n              SpO\n              <sub>2</sub>\n            </b>\n            <br />\n            <span class=\"bigFont\">{{ lastSpo2 }}</span>\n            O\n            <sub>2</sub>\n            <br />SpO\n            <sub>2</sub>%\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PulsOxyLine from \"./pulsOxyLine.vue\";\nimport PulsOxy_data1 from \"../assets/PulsOxy_data1.json\";\nvar axios = require(\"axios\");\n\nexport default {\n  name: \"LineChartContainer\",\n  components: { PulsOxyLine },\n  data() {\n    return {\n      loaded: false,\n      pulseData: [],\n      pulseLabels: [],\n      spo2Data: [],\n      spo2Labels: [],\n      jsonData: PulsOxy_data1,\n    };\n  },\n  mounted() {\n    this.fillData();\n  },\n  created() {\n    // this.getRealtimeData()\n    // this.fillData();\n  },\n  computed: {\n    lastPulse() {\n      var lastPulseData = this.pulseData[this.pulseData.length - 1];\n      this.$root.$emit(\"lastPulseData\", lastPulseData);\n      return lastPulseData;\n    },\n    lastSpo2() {\n      var lastSpo2Data = this.spo2Data[this.spo2Data.length - 1];\n      this.$root.$emit(\"lastSpo2Data\", lastSpo2Data);\n      return lastSpo2Data;\n    },\n  },\n  methods: {\n    fillData() {\n      this.loading = true;\n\n      var request = JSON.stringify({\n        patientId: 1,\n        timestamp: \"09-07-2020 11:15:35\",\n      });\n\n      var config = {\n        method: \"get\",\n        url: \"http://134.155.48.211:3000/patient/findPulsoxyByPatientId\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        data: request,\n      };\n\n      axios(config)\n        .then(function (response) {\n          this.pulseData.push(response.data.pulsrate.value.toString());\n          this.pulseLabels.push(response.data.timestamp.slice(11, 19));\n          this.spo2Data.push(response.data.spo2.value.toString());\n          this.spo2Labels.push(response.data.timestamp.slice(11, 19));\n          console.log(JSON.stringify(response.data));\n        })\n        .catch(function (error) {\n          console.log(\"AXIOS ERROR: \" + error);\n        })\n        .finally(() => (this.loading = false));\n\n      // for (var data of this.jsonData.slice(\n      //   this.jsonData.length - 20,\n      //   this.jsonData.length\n      // )) {\n      //   this.pulseData.push(data.pulsoxy.pulsRate.value.toString());\n      //   this.pulseLabels.push(data.pulsoxy.pulsRate.time.slice(0, 8));\n      //   this.spo2Data.push(data.pulsoxy.spo2.value.toString());\n      //   this.spo2Labels.push(data.pulsoxy.spo2.time.slice(0, 8));\n      // }\n      this.loaded = true;\n    },\n  },\n};\n</script>\n\n<style>\n.small {\n  max-height: 220px;\n  margin: 20px 0 20px;\n}\n.pulseColor {\n  margin: 20px 0 20px;\n  align-self: stretch;\n  background-color: #36d7e7;\n  color: white;\n}\n.spo2Color {\n  margin: 20px 0 20px;\n  align-self: stretch;\n  background-color: #36c1e7;\n  color: white;\n}\n.bigFont {\n  font-size: 64px;\n}\n</style>\n"]}]}