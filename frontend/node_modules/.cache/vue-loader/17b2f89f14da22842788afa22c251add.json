{"remainingRequest":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/stream.vue?vue&type=style&index=0&id=2df65990&scoped=true&lang=css&","dependencies":[{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/stream.vue","mtime":1597225158878},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jYW1lcmEgewogIHdpZHRoOiA2NXZ3OwogIGhlaWdodDogMjV2aDsKICBwYWRkaW5nOiAyNXB4OwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KCi5mZWVkIHsKICBkaXNwbGF5OiBibG9jazsKICB3aWR0aDogMTAwJTsKICBtYXgtd2lkdGg6IDEyODBweDsKICBib3gtc2hhZG93OiA0cHggNHB4IDEycHggMHB4IHJnYmEoMCwgMCwgMCwgMC4yNSk7CiAgbWFyZ2luOiAwIGF1dG87CiAgYmFja2dyb3VuZC1jb2xvcjogIzE3MTcxNzsKfQo="},{"version":3,"sources":["stream.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"stream.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"camera\">\n    <video autoplay controls class=\"feed\">\n      <p>Aktuell läuft kein Livestream.</p>\n    </video>\n    <!--- <button class=\"snap\" @click=\"$emit('takePicture')\"> -->\n    <button class=\"btn btn-warning btn-lg\" style=\"margin-top: 15px; margin-bottom: 15px\" @click=\"this.takePicture\">\n      <b>Screenshot</b>\n    </button>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"camera\",\n  methods: {\n    // initialize Webcam Livestream\n    init() {\n      if (\n        \"mediaDevices\" in navigator &&\n        \"getUserMedia\" in navigator.mediaDevices\n      ) {\n        // set ratio to 16:9\n        let constraints = {\n          video: {\n            width: {\n              min: 640,\n              ideal: 1280,\n              max: 1920\n            },\n            height: {\n              min: 360,\n              ideal: 720,\n              max: 1080\n            }\n          }\n        };\n        navigator.mediaDevices.getUserMedia(constraints).then(stream => {\n          const videoPlayer = document.querySelector(\"video\");\n          videoPlayer.srcObject = stream;\n          videoPlayer.play();\n        });\n      } else {\n        alert(\"Kein Livestream verfügbar aktuell...\");\n      }\n    },\n    // Screenshot of Livestream\n    takePicture() {\n      // display pictures on Gallery Canvas\n      const pic = document.querySelector(\"canvas\");\n      // setting picture quality and landscape\n      let ratio = window.innerHeight < window.innerWidth ? 16 / 9 : 9 / 16;\n      // if window width is smaller then 1280px then take its width, else 1280px - same for height\n      pic.width = window.innerWidth < 1280 ? window.innerWidth : 1280;\n      pic.height = window.innerWidth / ratio;\n      const ctx = pic.getContext(\"2d\");\n      ctx.imageSmoothingEnabled = true;\n      ctx.imageSmoothingQuality = \"high\";\n      ctx.drawImage(\n        document.querySelector(\"video\"),\n        0,\n        0,\n        pic.width,\n        pic.height\n      );\n    }\n  },\n  //Webcam shall be initialized when Livestream Button is selected\n  mounted() {\n    this.init();\n  }\n};\n</script>\n\n<style scoped>\n.camera {\n  width: 65vw;\n  height: 25vh;\n  padding: 25px;\n  box-sizing: border-box;\n}\n\n.feed {\n  display: block;\n  width: 100%;\n  max-width: 1280px;\n  box-shadow: 4px 4px 12px 0px rgba(0, 0, 0, 0.25);\n  margin: 0 auto;\n  background-color: #171717;\n}\n</style>"]}]}