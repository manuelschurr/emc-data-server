{"remainingRequest":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/stream.vue?vue&type=style&index=0&id=2df65990&scoped=true&lang=css&","dependencies":[{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/stream.vue","mtime":1599127140886},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiNhcHAgewogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgY29sb3I6ICMyYzNlNTA7CiAgICBtYXJnaW4tdG9wOiA2MHB4Owp9CiN2aWRlbyB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwOwp9CiNjYW52YXMgewogICAgZGlzcGxheTogbm9uZTsKfQpsaSB7CiAgICBkaXNwbGF5OiBpbmxpbmU7CiAgICBwYWRkaW5nOiA1cHg7Cn0K"},{"version":3,"sources":["stream.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"stream.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div id=\"app\">\n        <div>\n            <video ref=\"video\" id=\"video\" width=\"1024\" height=\"576\" autoplay></video>\n        </div>\n        <div>\n            <button class=\"btn btn-dark btn-lg\" style=\"margin-top: 5px; margin-bottom: 7px\" id=\"snap\" v-on:click=\"capture()\">\n                <i class=\"fa fa-camera\"></i>\n            </button>\n        </div>\n        <canvas ref=\"canvas\" id=\"canvas\" width=\"640\" height=\"480\"></canvas>\n        <ul>\n            <li v-for=\"c in captures\" :key=\"c.id\">\n                <img v-bind:src=\"c\" height=\"50\" />\n            </li>\n        </ul>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"camera\",\n    data() {\n        return {\n            video: {},\n            canvas: {},\n            captures: [],\n        };\n    },\n    mounted() {\n        this.initVideo();\n    },\n    methods: {\n        initVideo() {\n            this.video = this.$refs.video;\n            if (\n                \"mediaDevices\" in navigator &&\n                \"getUserMedia\" in navigator.mediaDevices\n            ) {\n                // set ratio to 16:9\n                let constraints = {\n                    video: {\n                        width: {\n                            min: 640,\n                            ideal: 1280,\n                            max: 1920,\n                        },\n                        height: {\n                            min: 360,\n                            ideal: 720,\n                            max: 1080,\n                        },\n                    },\n                };\n                navigator.mediaDevices\n                    .getUserMedia(constraints)\n                    .then((stream) => {\n                        const videoPlayer = document.querySelector(\"video\");\n                        videoPlayer.srcObject = stream;\n                        videoPlayer.play();\n                    });\n            } else {\n                alert(\"Kein Livestream verf√ºgbar aktuell...\");\n            }\n        },\n        capture() {\n            // this.canvas = this.$refs.canvas;\n            //this.canvas = document.querySelector(\"canvas\");\n            this.canvas = document.getElementById(\"galleryCanvas\");\n            var context = this.canvas.getContext(\"2d\");\n            context.drawImage(this.video, 0, 0, 640, 480);\n            this.captures.push(this.canvas.toDataURL(\"image/png\"));\n            this.$root.$emit(\"selectScreenshots\", this.captures);\n        },\n    },\n};\n</script>\n\n<style scoped>\n#app {\n    text-align: center;\n    color: #2c3e50;\n    margin-top: 60px;\n}\n#video {\n    background-color: #000000;\n}\n#canvas {\n    display: none;\n}\nli {\n    display: inline;\n    padding: 5px;\n}\n</style>"]}]}