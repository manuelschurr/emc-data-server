{"remainingRequest":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/pulsOxy.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/pulsOxy.vue","mtime":1597662663512},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQdWxzT3h5TGluZSBmcm9tICIuL3B1bHNPeHlMaW5lLnZ1ZSI7CmNvbnN0IGF4aW9zID0gcmVxdWlyZSgiYXhpb3MiKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTGluZUNoYXJ0Q29udGFpbmVyIiwKICBjb21wb25lbnRzOiB7IFB1bHNPeHlMaW5lIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRlZDogZmFsc2UsCiAgICAgIHRpbWVyOiAiIiwKICAgICAgcHVsc2VDaGFydERhdGE6IG51bGwsCiAgICAgIHNwbzJDaGFydERhdGE6IG51bGwsCiAgICAgIHB1bHNlRGF0YTogW10sCiAgICAgIGxhc3RQdWxzZTogIiIsCiAgICAgIHB1bHNlTGFiZWxzOiBbXSwKICAgICAgc3BvMkRhdGE6IFtdLAogICAgICBsYXN0U3BvMjogIiIsCiAgICAgIHNwbzJMYWJlbHM6IFtdLAogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBSdHdkb2N1bWVudDogT2JqZWN0LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZmlsbERhdGEoKTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5maWxsRGF0YSwgMTAwMDApOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGxhc3RQdWxzZUNvbXB1dGUoKSB7CiAgICAgIHZhciBsYXN0UHVsc2VEYXRhID0gdGhpcy5wdWxzZURhdGFbdGhpcy5wdWxzZURhdGEubGVuZ3RoIC0gMV07CiAgICAgIHRoaXMuJHJvb3QuJGVtaXQoImxhc3RQdWxzZURhdGEiLCBsYXN0UHVsc2VEYXRhKTsKICAgICAgcmV0dXJuIGxhc3RQdWxzZURhdGE7CiAgICB9LAogICAgbGFzdFNwbzJDb21wdXRlKCkgewogICAgICB2YXIgbGFzdFNwbzJEYXRhID0gdGhpcy5zcG8yRGF0YVt0aGlzLnNwbzJEYXRhLmxlbmd0aCAtIDFdOwogICAgICB0aGlzLiRyb290LiRlbWl0KCJsYXN0U3BvMkRhdGEiLCBsYXN0U3BvMkRhdGEpOwogICAgICByZXR1cm4gbGFzdFNwbzJEYXRhOwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGZpbGxEYXRhKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwoKICAgICAgdmFyIGJvZHkgPSAiIjsKCiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICB1cmw6CiAgICAgICAgICAiaHR0cHM6Ly8xMzQuMTU1LjQ4LjIxMTozMDAwL3BhdGllbnQvZmluZFB1bHNveHlCeVBhdGllbnRJZC8iICsKICAgICAgICAgIHZtLlJ0d2RvY3VtZW50LnBhdGllbnRJRCwKICAgICAgICBoZWFkZXJzOiB7fSwKICAgICAgICBkYXRhOiBib2R5LAogICAgICB9OwoKICAgICAgYXhpb3MoY29uZmlnKQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gIjEwMDAwIikgewogICAgICAgICAgICB2bS5wdWxzZURhdGEucHVzaChyZXNwb25zZS5kYXRhLmRhdGEucHVsc3JhdGUudG9TdHJpbmcoKSk7CiAgICAgICAgICAgIHZtLnB1bHNlTGFiZWxzLnB1c2gocmVzcG9uc2UuZGF0YS5kYXRhLnRpbWVzdGFtcC5zbGljZSgxMSwgMTkpKTsKICAgICAgICAgICAgdm0uc3BvMkRhdGEucHVzaChyZXNwb25zZS5kYXRhLmRhdGEuc3BvMi50b1N0cmluZygpKTsKICAgICAgICAgICAgdm0uc3BvMkxhYmVscy5wdXNoKHJlc3BvbnNlLmRhdGEuZGF0YS50aW1lc3RhbXAuc2xpY2UoMTEsIDE5KSk7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICB2bS5wdWxzZURhdGEubGVuZ3RoID49IDIwIHx8CiAgICAgICAgICAgICAgdm0ucHVsc2VMYWJlbHMubGVuZ3RoID49IDIwIHx8CiAgICAgICAgICAgICAgdm0uc3BvMkRhdGEubGVuZ3RoID49IDIwIHx8CiAgICAgICAgICAgICAgdm0uc3BvMkxhYmVscy5sZW5ndGggPj0gMjAKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdm0ucHVsc2VEYXRhLnNoaWZ0KCk7CiAgICAgICAgICAgICAgdm0ucHVsc2VMYWJlbHMuc2hpZnQoKTsKICAgICAgICAgICAgICB2bS5zcG8yRGF0YS5zaGlmdCgpOwogICAgICAgICAgICAgIHZtLnNwbzJMYWJlbHMuc2hpZnQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2bS5wdWxzZUNoYXJ0RGF0YSA9IHsKICAgICAgICAgICAgICBsYWJlbHM6IHZtLnB1bHNlTGFiZWxzLAogICAgICAgICAgICAgIGRhdGFzZXRzOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIGxhYmVsOiAiUHVsc2UiLAogICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogIiMzNmQ3ZTciLAogICAgICAgICAgICAgICAgICBwb2ludEJhY2tncm91bmRDb2xvcjogIndoaXRlIiwKICAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDIsCiAgICAgICAgICAgICAgICAgIHBvaW50Qm9yZGVyQ29sb3I6ICIjMzZkN2U3IiwKICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAidHJhbnNwYXJlbnQiLAogICAgICAgICAgICAgICAgICBwb2ludFJhZGl1czogMCwKICAgICAgICAgICAgICAgICAgZGF0YTogdm0ucHVsc2VEYXRhLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBdLAogICAgICAgICAgICB9OwogICAgICAgICAgICB2bS5zcG8yQ2hhcnREYXRhID0gewogICAgICAgICAgICAgIGxhYmVsczogdm0ucHVsc2VMYWJlbHMsCiAgICAgICAgICAgICAgZGF0YXNldHM6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgbGFiZWw6ICJTcG8yIiwKICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICIjMzZjMWU3IiwKICAgICAgICAgICAgICAgICAgcG9pbnRCYWNrZ3JvdW5kQ29sb3I6ICJ3aGl0ZSIsCiAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAyLAogICAgICAgICAgICAgICAgICBwb2ludEJvcmRlckNvbG9yOiAiIzM2YzFlNyIsCiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogInRyYW5zcGFyZW50IiwKICAgICAgICAgICAgICAgICAgcG9pbnRSYWRpdXM6IDAsCiAgICAgICAgICAgICAgICAgIGRhdGE6IHZtLnNwbzJEYXRhLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBdLAogICAgICAgICAgICB9OwogICAgICAgICAgICB2bS5sYXN0UHVsc2UgPSB2bS5sYXN0UHVsc2VDb21wdXRlOwogICAgICAgICAgICB2bS5sYXN0U3BvMiA9IHZtLmxhc3RTcG8yQ29tcHV0ZTsKICAgICAgICAgICAgdm0ubG9hZGVkID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJBWElPUyBFUlJPUjogIiArIGVycm9yKTsKICAgICAgICB9KQogICAgICAgIC5maW5hbGx5KCgpID0+ICh0aGlzLmxvYWRpbmcgPSBmYWxzZSkpOwogICAgICBhd2FpdCB0aGlzLiRuZXh0VGljaygpOwogICAgfSwKICAgIGJlZm9yZURlc3Ryb3koKSB7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lciksCiAgICAgICAgKHRoaXMucHVsc2VEYXRhID0gW10pLAogICAgICAgICh0aGlzLnNwbzJEYXRhID0gW10pLAogICAgICAgICh0aGlzLnB1bHNlQ2hhcnREYXRhID0gbnVsbCksCiAgICAgICAgKHRoaXMuc3BvMkNoYXJ0RGF0YSA9IG51bGwpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["pulsOxy.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pulsOxy.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"row align-items-start\">\n      <div class=\"col-12\">\n        <form class=\"form-inline\" style=\"align-items: center;\">\n          <div class=\"col-9\">\n            <puls-oxy-line class=\"small\" v-if=\"loaded\" :chart-data=\"pulseChartData\" />\n          </div>\n          <div class=\"col-3 pulseColor\">\n            <br />\n            <b>Pulse</b>\n            <br />\n            <span\n              v-if=\"loaded && lastPulse > 130 || lastPulse < 60\"\n              class=\"bigFont notOkPulseOxy\"\n            >{{ lastPulse }}</span>\n            <span v-else class=\"bigFont\">{{ lastPulse }}</span>\n            <svg\n              v-if=\"loaded && lastPulse > 130 || lastPulse < 60\"\n              width=\"1em\"\n              height=\"1em\"\n              viewBox=\"0 0 16 16\"\n              class=\"bi bi-heart notOkPulseOxy\"\n              fill=\"currentColor\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                fill-rule=\"evenodd\"\n                d=\"M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z\"\n              />\n            </svg>\n            <svg\n              v-else\n              width=\"1em\"\n              height=\"1em\"\n              viewBox=\"0 0 16 16\"\n              class=\"bi bi-heart\"\n              fill=\"currentColor\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                fill-rule=\"evenodd\"\n                d=\"M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z\"\n              />\n            </svg>\n            <br />PR/min\n          </div>\n        </form>\n      </div>\n      <div class=\"col-12\">\n        <form class=\"form-inline\" style=\"align-items: center;\">\n          <div class=\"col-9\">\n            <puls-oxy-line class=\"small\" v-if=\"loaded\" :chart-data=\"spo2ChartData\" />\n          </div>\n          <div class=\"col-3 spo2Color\">\n            <br />\n            <b>\n              SpO<sub>2</sub>\n            </b>\n            <br />\n            <span\n              v-if=\"loaded && lastSpo2 >= 100 || lastSpo2 < 90\"\n              class=\"bigFont notOkPulseOxy\"\n            >{{ lastSpo2 }}</span>\n            <span v-else class=\"bigFont\">{{ lastSpo2 }}</span>\n            O<sub>2</sub>\n            <br />SpO<sub>2</sub>%\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PulsOxyLine from \"./pulsOxyLine.vue\";\nconst axios = require(\"axios\");\n\nexport default {\n  name: \"LineChartContainer\",\n  components: { PulsOxyLine },\n  data() {\n    return {\n      loaded: false,\n      timer: \"\",\n      pulseChartData: null,\n      spo2ChartData: null,\n      pulseData: [],\n      lastPulse: \"\",\n      pulseLabels: [],\n      spo2Data: [],\n      lastSpo2: \"\",\n      spo2Labels: [],\n    };\n  },\n  props: {\n    Rtwdocument: Object,\n  },\n  mounted() {\n    this.fillData();\n  },\n  created() {\n    this.timer = setInterval(this.fillData, 10000);\n  },\n  computed: {\n    lastPulseCompute() {\n      var lastPulseData = this.pulseData[this.pulseData.length - 1];\n      this.$root.$emit(\"lastPulseData\", lastPulseData);\n      return lastPulseData;\n    },\n    lastSpo2Compute() {\n      var lastSpo2Data = this.spo2Data[this.spo2Data.length - 1];\n      this.$root.$emit(\"lastSpo2Data\", lastSpo2Data);\n      return lastSpo2Data;\n    },\n  },\n  methods: {\n    async fillData() {\n      var vm = this;\n      this.loading = true;\n\n      var body = \"\";\n\n      var config = {\n        method: \"get\",\n        url:\n          \"https://134.155.48.211:3000/patient/findPulsoxyByPatientId/\" +\n          vm.Rtwdocument.patientID,\n        headers: {},\n        data: body,\n      };\n\n      axios(config)\n        .then(function (response) {\n          if (response.data.statusCode === \"10000\") {\n            vm.pulseData.push(response.data.data.pulsrate.toString());\n            vm.pulseLabels.push(response.data.data.timestamp.slice(11, 19));\n            vm.spo2Data.push(response.data.data.spo2.toString());\n            vm.spo2Labels.push(response.data.data.timestamp.slice(11, 19));\n            if (\n              vm.pulseData.length >= 20 ||\n              vm.pulseLabels.length >= 20 ||\n              vm.spo2Data.length >= 20 ||\n              vm.spo2Labels.length >= 20\n            ) {\n              vm.pulseData.shift();\n              vm.pulseLabels.shift();\n              vm.spo2Data.shift();\n              vm.spo2Labels.shift();\n            }\n            vm.pulseChartData = {\n              labels: vm.pulseLabels,\n              datasets: [\n                {\n                  label: \"Pulse\",\n                  borderColor: \"#36d7e7\",\n                  pointBackgroundColor: \"white\",\n                  borderWidth: 2,\n                  pointBorderColor: \"#36d7e7\",\n                  backgroundColor: \"transparent\",\n                  pointRadius: 0,\n                  data: vm.pulseData,\n                },\n              ],\n            };\n            vm.spo2ChartData = {\n              labels: vm.pulseLabels,\n              datasets: [\n                {\n                  label: \"Spo2\",\n                  borderColor: \"#36c1e7\",\n                  pointBackgroundColor: \"white\",\n                  borderWidth: 2,\n                  pointBorderColor: \"#36c1e7\",\n                  backgroundColor: \"transparent\",\n                  pointRadius: 0,\n                  data: vm.spo2Data,\n                },\n              ],\n            };\n            vm.lastPulse = vm.lastPulseCompute;\n            vm.lastSpo2 = vm.lastSpo2Compute;\n            vm.loaded = true;\n          }\n        })\n        .catch(function (error) {\n          console.log(\"AXIOS ERROR: \" + error);\n        })\n        .finally(() => (this.loading = false));\n      await this.$nextTick();\n    },\n    beforeDestroy() {\n      clearInterval(this.timer),\n        (this.pulseData = []),\n        (this.spo2Data = []),\n        (this.pulseChartData = null),\n        (this.spo2ChartData = null);\n    },\n  },\n};\n</script>\n\n<style>\n.notOkPulseOxy {\n  color: red;\n}\n.small {\n  max-height: 220px;\n  margin: 20px 0 20px;\n}\n.pulseColor {\n  margin: 20px 0 20px;\n  align-self: stretch;\n  background-color: #36d7e7;\n  color: white;\n}\n.spo2Color {\n  margin: 20px 0 20px;\n  align-self: stretch;\n  background-color: #36c1e7;\n  color: white;\n}\n.bigFont {\n  font-size: 64px;\n}\n</style>\n"]}]}