{"remainingRequest":"/Users/marcguldner/GitHub/emc-data-server/frontend/node_modules/babel-loader/lib/index.js!/Users/marcguldner/GitHub/emc-data-server/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/marcguldner/GitHub/emc-data-server/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/marcguldner/GitHub/emc-data-server/frontend/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/src/App.vue","mtime":1599666966748},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL1VzZXJzL21hcmNndWxkbmVyL0dpdEh1Yi9lbWMtZGF0YS1zZXJ2ZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgSGVhZGVyIGZyb20gIi4vY29tcG9uZW50cy9oZWFkZXIudnVlIjsKaW1wb3J0IFBhdGllbnREYXRhIGZyb20gIi4vY29tcG9uZW50cy9wYXRpZW50RGF0YS52dWUiOwppbXBvcnQgUmlnaHRTaWRlYmFyIGZyb20gIi4vY29tcG9uZW50cy9yaWdodFNpZGViYXIudnVlIjsKaW1wb3J0IExlZnRTaWRlYmFyIGZyb20gIi4vY29tcG9uZW50cy9sZWZ0U2lkZWJhci52dWUiOwppbXBvcnQgTWFpbkNvbXBvbmVudCBmcm9tICIuL2NvbXBvbmVudHMvbWFpbkNvbXBvbmVudC52dWUiOwppbXBvcnQgUnR3U2VsZWN0aW9uIGZyb20gIi4vY29tcG9uZW50cy9ydHdTZWxlY3Rpb24udnVlIjsKCnZhciBheGlvcyA9IHJlcXVpcmUoImF4aW9zIik7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFwcCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJ0d1NlbGVjdGVkOiBmYWxzZSwKICAgICAgUnR3ZG9jdW1lbnQ6IHsKICAgICAgICBsb25nOiBudWxsLAogICAgICAgIGxhdDogbnVsbCwKICAgICAgICBldGE6IG51bGwKICAgICAgfSwKICAgICAgYWN0aXZlQW1idWxhbmNlczogW3sKICAgICAgICBhbWJ1bGFuY2VJZDogMywKICAgICAgICBwYXRpZW50SWQ6IDEsCiAgICAgICAgaWRlbnRpZmllcjogIk1hbHRlc2VyIEhpbGZzZGllbnN0IC0gTW9ja29iamVrdCIKICAgICAgfV0sCiAgICAgIGluYWN0aXZlQW1idWxhbmNlczogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBzZWxlY3RlZFJUVzogT2JqZWN0LAogICAgICBydHdMb2NhdGlvbnM6IFsiWyIuY29uY2F0KDguNDg3MjU1LCAiLCAiLCA0OS40OTI0MjcsICJdIildLAogICAgICBhcGlLZXlPcGVuUm91dGU6ICI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgzYWExZmY0ZGIyODY0ZWY5OGE2ODcyMDcxNzc1ZmI5MyIsCiAgICAgIG9wZW5Sb3V0ZUVycm9yOiBmYWxzZSwKICAgICAgYXBpQnV0dG9uSXNEaXNhYmxlZDogdHJ1ZQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEhlYWRlcjogSGVhZGVyLAogICAgUGF0aWVudERhdGE6IFBhdGllbnREYXRhLAogICAgUmlnaHRTaWRlYmFyOiBSaWdodFNpZGViYXIsCiAgICBMZWZ0U2lkZWJhcjogTGVmdFNpZGViYXIsCiAgICBNYWluQ29tcG9uZW50OiBNYWluQ29tcG9uZW50LAogICAgUnR3U2VsZWN0aW9uOiBSdHdTZWxlY3Rpb24KICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZUFwaUtleTogZnVuY3Rpb24gdXBkYXRlQXBpS2V5KCkgewogICAgICB2YXIgY29udGV4dCA9IHRoaXM7CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgbWV0aG9kOiAicHV0IiwKICAgICAgICAvL1RPIENIQU5HRQogICAgICAgIHVybDogImh0dHBzOi8vMTM0LjE1NS40OC4yMTE6MzAwMC9hcGlLZXkvdXBkYXRlLzEiLAogICAgICAgIGhlYWRlcnM6IHt9LAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIGFwaUtleUlkOiAxLAogICAgICAgICAgdmFsdWU6IHRoaXMuYXBpS2V5T3BlblJvdXRlCiAgICAgICAgfQogICAgICB9OwogICAgICBheGlvcyhjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29udGV4dC5vcGVuUm91dGVFcnJvciA9IGZhbHNlOwogICAgICAgIGNvbnRleHQuZ2V0R25zc2RhdGEoKTsKICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0QXBpS2V5OiBmdW5jdGlvbiBnZXRBcGlLZXkoKSB7CiAgICAgIHZhciBjb250ZXh0ID0gdGhpczsKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgIC8vVE8gQ0hBTkdFCiAgICAgICAgdXJsOiAiaHR0cHM6Ly8xMzQuMTU1LjQ4LjIxMTozMDAwL2FwaUtleS9maW5kQWxsIiwKICAgICAgICBoZWFkZXJzOiB7fQogICAgICB9OwogICAgICBheGlvcyhjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29udGV4dC5hcGlLZXlPcGVuUm91dGUgPSByZXNwb25zZS5kYXRhLmRhdGFbMF0udmFsdWU7CiAgICAgICAgY29udGV4dC5nZXRHbnNzZGF0YSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZVJUVzogZnVuY3Rpb24gY2hhbmdlUlRXKCkgewogICAgICB0aGlzLnJ0d1NlbGVjdGVkID0gIXRoaXMucnR3U2VsZWN0ZWQ7CiAgICAgIHRoaXMuc2VsZWN0ZWRSVFcgPSBPYmplY3Q7IC8vdGhpcy5hY3RpdmVBbWJ1bGFuY2VzID0gW107CgogICAgICB0aGlzLlJ0d2RvY3VtZW50LmxvbmcgPSBudWxsOwogICAgICB0aGlzLlJ0d2RvY3VtZW50LmxhdCA9IG51bGw7CiAgICAgIHRoaXMuUnR3ZG9jdW1lbnQuZXRhID0gbnVsbDsKICAgIH0sCiAgICBzZWxlY3RSVFc6IGZ1bmN0aW9uIHNlbGVjdFJUVyhydHcpIHsKICAgICAgdGhpcy5ydHdTZWxlY3RlZCA9ICF0aGlzLnJ0d1NlbGVjdGVkOwogICAgICB0aGlzLnNlbGVjdGVkUlRXID0gcnR3OwogICAgICB0aGlzLlJ0d2RvY3VtZW50LmV0YSA9IHJ0dy5ldGE7CiAgICAgIHRoaXMuUnR3ZG9jdW1lbnQubG9uZyA9IHJ0dy5sb25nOwogICAgICB0aGlzLlJ0d2RvY3VtZW50LmxhdCA9IHJ0dy5sYXQ7CiAgICB9LAogICAgZ2V0R25zc2RhdGE6IGZ1bmN0aW9uIGdldEduc3NkYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgIHVybDogImh0dHBzOi8vMTM0LjE1NS40OC4yMTE6MzAwMC9hbWJ1bGFuY2UvZmluZEduc3NCeUFtYnVsYW5jZUlkLyIgKyB0aGlzLnNlbGVjdGVkUlRXLmFtYnVsYW5jZUlkCiAgICAgIH07CiAgICAgIGF4aW9zKGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5ydHdMb2NhdGlvbnMuc3BsaWNlKDEsIDEsICJbIi5jb25jYXQocmVzcG9uc2UuZGF0YS5kYXRhLmxvbmdpdHVkZSwgIiwgIikuY29uY2F0KHJlc3BvbnNlLmRhdGEuZGF0YS5sYXRpdHVkZSwgIl0iKSk7CgogICAgICAgIF90aGlzLlJ0d2RvY3VtZW50LmxvbmcgPSByZXNwb25zZS5kYXRhLmRhdGEubG9uZ2l0dWRlOwogICAgICAgIF90aGlzLlJ0d2RvY3VtZW50LmxhdCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5sYXRpdHVkZTsKCiAgICAgICAgX3RoaXMuY29tcHV0ZUVUQSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGNvbXB1dGVFVEE6IGZ1bmN0aW9uIGNvbXB1dGVFVEEoKSB7CiAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CgogICAgICBpZiAodGhpcy5ydHdMb2NhdGlvbnMubGVuZ3RoID4gMSkgewogICAgICAgIHJlcXVlc3Qub3BlbigiUE9TVCIsICJodHRwczovL2FwaS5vcGVucm91dGVzZXJ2aWNlLm9yZy92Mi9tYXRyaXgvZHJpdmluZy1jYXIiKTsKICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsICJhcHBsaWNhdGlvbi9qc29uLCBhcHBsaWNhdGlvbi9nZW8ranNvbiwgYXBwbGljYXRpb24vZ3B4K3htbCwgaW1nL3BuZzsgY2hhcnNldD11dGYtOCIpOwogICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwgImFwcGxpY2F0aW9uL2pzb24iKTsKICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoIkF1dGhvcml6YXRpb24iLCB0aGlzLmFwaUtleU9wZW5Sb3V0ZSAvL0FQSSBLZXkKICAgICAgICApOwogICAgICAgIHZhciBjb250ZXh0ID0gdGhpczsKCiAgICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAocmVxdWVzdC5yZWFkeVN0YXRlID09PSA0KSB7CiAgICAgICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgY29udGV4dC5zZWxlY3RlZFJUVy5ldGEgPSBjb250ZXh0LnNlY1RvVGltZShKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KS5kdXJhdGlvbnNbMV1bMF0pOwogICAgICAgICAgICAgIGNvbnRleHQuUnR3ZG9jdW1lbnQuZXRhID0gY29udGV4dC5zZWxlY3RlZFJUVy5ldGE7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIlRlc3QgcmVxdWVzdCIpOwogICAgICAgICAgICAgIGNvbnRleHQuJGZvcmNlVXBkYXRlKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY29udGV4dC5zZWxlY3RlZFJUVy5ldGEgPSAiRmVobGVyIGJlaSBSb3V0ZW4gU2Nobml0dHN0ZWxsZSI7CiAgICAgICAgICAgICAgY29udGV4dC5vcGVuUm91dGVFcnJvciA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICB2YXIgYm9keSA9ICJ7XCJsb2NhdGlvbnNcIjogWyIuY29uY2F0KHRoaXMucnR3TG9jYXRpb25zLCAiXX0iKTsKICAgICAgICByZXF1ZXN0LnNlbmQoYm9keSk7CiAgICAgIH0KICAgIH0sCiAgICBzZWNUb1RpbWU6IGZ1bmN0aW9uIHNlY1RvVGltZShldGFJblNlYykgewogICAgICBpZiAoIWlzTmFOKGV0YUluU2VjKSkgewogICAgICAgIHZhciBydHdUaW1lUmVkdWN0aW9uRmFjdG9yID0gMC43MzQ7CiAgICAgICAgZXRhSW5TZWMgPSBldGFJblNlYyAqIHJ0d1RpbWVSZWR1Y3Rpb25GYWN0b3I7CiAgICAgICAgdmFyIHNlY29uZHMgPSBNYXRoLmZsb29yKGV0YUluU2VjICUgNjApLnRvU3RyaW5nKCk7CiAgICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKGV0YUluU2VjIC8gNjApLnRvU3RyaW5nKCk7CgogICAgICAgIGlmIChzZWNvbmRzLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgc2Vjb25kcyA9ICIwIiArIHNlY29uZHM7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbWludXRlcyArICIgTWludXRlbiAiICsgc2Vjb25kcyArICIgU2VrdW5kZW4iOwogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgcnR3U2VsZWN0ZWQ6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgLy8gUmVxdWVzdCBHTlNTIERhdGEgZnJvbSBTZXJ2ZXIgZXZlcnkgMTAgU2Vjb25kcwogICAgICAgIGlmICh0aGlzLnJ0d1NlbGVjdGVkKSB7CiAgICAgICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczIuZ2V0R25zc2RhdGEoKTsKICAgICAgICAgIH0sIDEwMDAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhcGlLZXlPcGVuUm91dGU6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICBpZiAodGhpcy5hcGlLZXlPcGVuUm91dGUubGVuZ3RoID09PSA1NikgewogICAgICAgICAgdGhpcy5hcGlCdXR0b25Jc0Rpc2FibGVkID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuYXBpQnV0dG9uSXNEaXNhYmxlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgdGhpcy4kcm9vdC4kb24oInRva2VuU3RhdHVzIiwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgX3RoaXMzLm9wZW5Sb3V0ZUVycm9yID0gZGF0YTsKICAgIH0pOwogICAgdGhpcy4kcm9vdC4kb24oImFwaVRva2VuIiwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgX3RoaXMzLmFwaUtleU9wZW5Sb3V0ZSA9IGRhdGE7CiAgICB9KTsKICAgIHRoaXMuZ2V0QXBpS2V5KCk7IC8vIENvbnN1bWUgUkVTVC1BUEkKCiAgICB2YXIgcnR3QVBJID0gImh0dHBzOi8vMTM0LjE1NS40OC4yMTE6MzAwMC9hbWJ1bGFuY2UvZmluZEFsbCI7CiAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgYXhpb3MuZ2V0KHJ0d0FQSSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHJlc3BvbnNlLmRhdGEuZGF0YSksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBhbWJ1bGFuY2UgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBpZiAoYW1idWxhbmNlLnBhdGllbnRJZCAhPSAwKSB7CiAgICAgICAgICAgIF90aGlzMy5hY3RpdmVBbWJ1bGFuY2VzLnB1c2goYW1idWxhbmNlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMy5pbmFjdGl2ZUFtYnVsYW5jZXMucHVzaChhbWJ1bGFuY2UpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKF90aGlzMy5hY3RpdmVBbWJ1bGFuY2VzKSwKICAgICAgICAgIF9zdGVwMjsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciByID0gX3N0ZXAyLnZhbHVlOwogICAgICAgICAgci5ldGEgPSAwOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcnMpIHsKICAgICAgLy8gcmVhY3Qgb24gZXJyb3JzLgogICAgICBjb25zb2xlLmVycm9yKCJBWElPUyBFUlJPUjogIiArIGVycm9ycyk7CiAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF90aGlzMy5sb2FkaW5nID0gZmFsc2U7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"d-flex justify-content-center\" v-if=\"loading\">\n      <div\n        class=\"spinner-border\"\n        style=\"position: fixed; top: 50%;\"\n        role=\"status\"\n      ></div>\n      <div style=\"position: fixed; top: 55%;\">\n        Lade anfahrende Rettungswagen\n      </div>\n    </div>\n    <div v-else>\n      <RtwSelection\n        v-if=\"!rtwSelected && !loading\"\n        :selectRTW=\"selectRTW\"\n        :activeAmbulances=\"activeAmbulances\"\n        :inactiveAmbulances=\"inactiveAmbulances\"\n        :Rtwdocument=\"Rtwdocument\"\n        :apiKeyOpenRoute=\"apiKeyOpenRoute\"\n      />\n      <div v-if=\"rtwSelected\">\n        <Header :changeRTW=\"changeRTW\" />\n        <PatientData :patientId=\"selectedRTW.patientId\" />\n        <div v-if=\"openRouteError\">\n          <i class=\"fas fa-exclamation-triangle\"></i>\n          Der API-Token ist abgelaufen. Bitte updaten.\n          <input size=\"60\" v-model=\"apiKeyOpenRoute\" />\n          <button\n            type=\"button\"\n            id=\"btn-api-key\"\n            class=\"btn btn-primary\"\n            v-on:click=\"updateApiKey\"\n            :disabled=\"apiButtonIsDisabled\"\n          >\n            Update\n          </button>\n          <hr style=\"width: 100%; text-align: left; margin-left: 0;\" />\n        </div>\n\n        <div class=\"container-fluid\" v-if=\"rtwSelected\">\n          <div class=\"row align-items-start\">\n            <div class=\"col-2\">\n              <LeftSidebar :arrivalTime=\"selectedRTW.eta\" />\n            </div>\n            <div class=\"col-8\">\n              <MainComponent\n                :Rtwdocument=\"Rtwdocument\"\n                :patientId=\"selectedRTW.patientId\"\n              />\n            </div>\n            <div class=\"col-2\">\n              <RightSidebar />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from \"./components/header.vue\";\nimport PatientData from \"./components/patientData.vue\";\nimport RightSidebar from \"./components/rightSidebar.vue\";\nimport LeftSidebar from \"./components/leftSidebar.vue\";\nimport MainComponent from \"./components/mainComponent.vue\";\nimport RtwSelection from \"./components/rtwSelection.vue\";\nconst axios = require(\"axios\");\n\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      rtwSelected: false,\n      Rtwdocument: {\n        long: null,\n        lat: null,\n        eta: null\n      },\n      activeAmbulances: [\n        {\n          ambulanceId: 3,\n          patientId: 1,\n          identifier: \"Malteser Hilfsdienst - Mockobjekt\"\n        }\n      ],\n      inactiveAmbulances: [],\n      loading: false,\n      selectedRTW: Object,\n      rtwLocations: [`[${8.487255}, ${49.492427}]`],\n      apiKeyOpenRoute:\n        \"5b3ce3597851110001cf62483aa1ff4db2864ef98a6872071775fb93\",\n      openRouteError: false,\n      apiButtonIsDisabled: true\n    };\n  },\n  components: {\n    Header,\n    PatientData,\n    RightSidebar,\n    LeftSidebar,\n    MainComponent,\n    RtwSelection\n  },\n  methods: {\n    updateApiKey: function() {\n      var context = this;\n      var config = {\n        method: \"put\",\n        //TO CHANGE\n        url: \"https://134.155.48.211:3000/apiKey/update/1\",\n        headers: {},\n        data: {\n          apiKeyId: 1,\n          value: this.apiKeyOpenRoute\n        }\n      };\n\n      axios(config)\n        .then(function(response) {\n          context.openRouteError = false;\n          context.getGnssdata();\n          console.log(JSON.stringify(response.data));\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    },\n    getApiKey: function() {\n      var context = this;\n      var config = {\n        method: \"get\",\n        //TO CHANGE\n        url: \"https://134.155.48.211:3000/apiKey/findAll\",\n        headers: {}\n      };\n\n      axios(config)\n        .then(function(response) {\n          context.apiKeyOpenRoute = response.data.data[0].value;\n          context.getGnssdata();\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    },\n    changeRTW: function() {\n      this.rtwSelected = !this.rtwSelected;\n      this.selectedRTW = Object;\n      //this.activeAmbulances = [];\n      this.Rtwdocument.long = null;\n      this.Rtwdocument.lat = null;\n      this.Rtwdocument.eta = null;\n    },\n    selectRTW: function(rtw) {\n      this.rtwSelected = !this.rtwSelected;\n      this.selectedRTW = rtw;\n      this.Rtwdocument.eta = rtw.eta;\n      this.Rtwdocument.long = rtw.long;\n      this.Rtwdocument.lat = rtw.lat;\n    },\n    getGnssdata: function() {\n      let config = {\n        method: \"get\",\n        url:\n          \"https://134.155.48.211:3000/ambulance/findGnssByAmbulanceId/\" +\n          this.selectedRTW.ambulanceId\n      };\n\n      axios(config)\n        .then(response => {\n          this.rtwLocations.splice(\n            1,\n            1,\n            `[${response.data.data.longitude}, ${response.data.data.latitude}]`\n          );\n          this.Rtwdocument.long = response.data.data.longitude;\n          this.Rtwdocument.lat = response.data.data.latitude;\n          this.computeETA();\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    },\n    computeETA: function() {\n      let request = new XMLHttpRequest();\n      if (this.rtwLocations.length > 1) {\n        request.open(\n          \"POST\",\n          \"https://api.openrouteservice.org/v2/matrix/driving-car\"\n        );\n\n        request.setRequestHeader(\n          \"Accept\",\n          \"application/json, application/geo+json, application/gpx+xml, img/png; charset=utf-8\"\n        );\n        request.setRequestHeader(\"Content-Type\", \"application/json\");\n        request.setRequestHeader(\n          \"Authorization\",\n          this.apiKeyOpenRoute //API Key\n        );\n        let context = this;\n        request.onreadystatechange = function() {\n          if (request.readyState === 4) {\n            if (request.status === 200) {\n              context.selectedRTW.eta = context.secToTime(\n                JSON.parse(request.responseText).durations[1][0]\n              );\n              context.Rtwdocument.eta = context.selectedRTW.eta;\n              console.log(\"Test request\");\n              context.$forceUpdate();\n            } else {\n              context.selectedRTW.eta = \"Fehler bei Routen Schnittstelle\";\n              context.openRouteError = true;\n            }\n          }\n        };\n        const body = `{\"locations\": [${this.rtwLocations}]}`;\n        request.send(body);\n      }\n    },\n    secToTime: function(etaInSec) {\n      if (!isNaN(etaInSec)) {\n        const rtwTimeReductionFactor = 0.734;\n        etaInSec = etaInSec * rtwTimeReductionFactor;\n        var seconds = Math.floor(etaInSec % 60).toString();\n        var minutes = Math.floor(etaInSec / 60).toString();\n        if (seconds.length === 1) {\n          seconds = \"0\" + seconds;\n        }\n        return minutes + \" Minuten \" + seconds + \" Sekunden\";\n      }\n    }\n  },\n  watch: {\n    rtwSelected: {\n      handler() {\n        // Request GNSS Data from Server every 10 Seconds\n        if (this.rtwSelected) {\n          this.interval = setInterval(() => {\n            this.getGnssdata();\n          }, 10000);\n        } else {\n          clearInterval(this.interval);\n        }\n      }\n    },\n    apiKeyOpenRoute: {\n      handler() {\n        if (this.apiKeyOpenRoute.length === 56) {\n          this.apiButtonIsDisabled = false;\n        } else {\n          this.apiButtonIsDisabled = true;\n        }\n      }\n    }\n  },\n  mounted: function() {\n    this.$root.$on(\"tokenStatus\", data => {\n      this.openRouteError = data;\n    });\n\n    this.$root.$on(\"apiToken\", data => {\n      this.apiKeyOpenRoute = data;\n    });\n\n    this.getApiKey();\n    // Consume REST-API\n    let rtwAPI = \"https://134.155.48.211:3000/ambulance/findAll\";\n\n    this.loading = true;\n    axios\n      .get(rtwAPI)\n      .then(response => {\n        for (var ambulance of response.data.data) {\n          if (ambulance.patientId != 0) {\n            this.activeAmbulances.push(ambulance);\n          } else {\n            this.inactiveAmbulances.push(ambulance);\n          }\n        }\n        for (var r of this.activeAmbulances) {\n          r.eta = 0;\n        }\n      })\n      .catch(errors => {\n        // react on errors.\n        console.error(\"AXIOS ERROR: \" + errors);\n      })\n      .finally(() => (this.loading = false));\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  min-height: 100vh;\n}\n</style>\n"],"sourceRoot":"src"}]}