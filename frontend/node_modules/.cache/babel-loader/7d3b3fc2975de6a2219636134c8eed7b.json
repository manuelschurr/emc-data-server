{"remainingRequest":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/babel-loader/lib/index.js!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/stream.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/stream.vue","mtime":1598867441174},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjYW1lcmEiLAogIHByb3BzOiB7CiAgICBzZWxlY3RlZEVsZW1lbnRzOiBOdW1iZXIKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIGluaXRpYWxpemUgV2ViY2FtIExpdmVzdHJlYW0KICAgIGluaXRWaWRlbzogZnVuY3Rpb24gaW5pdFZpZGVvKCkgewogICAgICBpZiAoIm1lZGlhRGV2aWNlcyIgaW4gbmF2aWdhdG9yICYmICJnZXRVc2VyTWVkaWEiIGluIG5hdmlnYXRvci5tZWRpYURldmljZXMpIHsKICAgICAgICAvLyBzZXQgcmF0aW8gdG8gMTY6OQogICAgICAgIHZhciBjb25zdHJhaW50cyA9IHsKICAgICAgICAgIHZpZGVvOiB7CiAgICAgICAgICAgIHdpZHRoOiB7CiAgICAgICAgICAgICAgbWluOiA2NDAsCiAgICAgICAgICAgICAgaWRlYWw6IDEyODAsCiAgICAgICAgICAgICAgbWF4OiAxOTIwCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGhlaWdodDogewogICAgICAgICAgICAgIG1pbjogMzYwLAogICAgICAgICAgICAgIGlkZWFsOiA3MjAsCiAgICAgICAgICAgICAgbWF4OiAxMDgwCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKGZ1bmN0aW9uIChzdHJlYW0pIHsKICAgICAgICAgIHZhciB2aWRlb1BsYXllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInZpZGVvIik7CiAgICAgICAgICB2aWRlb1BsYXllci5zcmNPYmplY3QgPSBzdHJlYW07CiAgICAgICAgICB2aWRlb1BsYXllci5wbGF5KCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQoIktlaW4gTGl2ZXN0cmVhbSB2ZXJmw7xnYmFyIGFrdHVlbGwuLi4iKTsKICAgICAgfQogICAgfSwKCiAgICAvKgogICAgICpTY3JlZW5zaG90IG9mIExpdmVzdHJlYW0KICAgICAqLwogICAgdGFrZVBpY3R1cmU6IGZ1bmN0aW9uIHRha2VQaWN0dXJlKCkgewogICAgICAvLyBwaWNrIGNhbnZhcyBlbGVtZW50IHRvICJkcmF3IiBzY3JlZW5zaG90IG9uCiAgICAgIHZhciBwaWMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJjYW52YXMiKTsKICAgICAgdmFyIGN0eCA9IHBpYy5nZXRDb250ZXh0KCIyZCIpOyAvLyBzZXR0aW5nIHBpY3R1cmUgcXVhbGl0eSBhbmQgbGFuZHNjYXBlCgogICAgICB2YXIgcmF0aW8gPSB3aW5kb3cuaW5uZXJIZWlnaHQgPCB3aW5kb3cuaW5uZXJXaWR0aCA/IDE2IC8gOSA6IDkgLyAxNjsgLy8gc2V0IHdpbmRvdyB3aWR0aCB0byBtYXguIG9mIDEyODBweAoKICAgICAgcGljLndpZHRoID0gd2luZG93LmlubmVyV2lkdGggPCAxMjgwID8gd2luZG93LmlubmVyV2lkdGggOiAxMjgwOwogICAgICBwaWMuaGVpZ2h0ID0gd2luZG93LmlubmVyV2lkdGggLyByYXRpbzsgLy8gc2NyZWVuc2hvdCB2YXJpYWJsZSBkcmF3cyBpbWFnZQoKICAgICAgdmFyIHNjcmVlbnNob3QgPSBjdHguZHJhd0ltYWdlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInZpZGVvIiksIDAsIDAsIHBpYy53aWR0aCwgcGljLmhlaWdodCk7IC8vIC8vIGFycmF5IHdoZXJlIGFsbCBzY3JlZW5zaG90cyBzaGFsbCBiZSBzdG9yZWQKICAgICAgLy8gdmFyIGltYWdlcyA9IFtdOwogICAgICAvLyB2YXIgc2NyZWVuc2hvdENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnYWxsZXJ5Q2FudmFzIik7CiAgICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDw9IGltYWdlcy5sZW5ndGg7IGkrKykgewogICAgICAvLyAgICAgaW1hZ2VzLnB1c2goc2NyZWVuc2hvdFtpXSk7CiAgICAgIC8vICAgICB2YXIgc2NyZWVuc2hvdHNEaXNwbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiSU1HIik7CiAgICAgIC8vICAgICBzY3JlZW5zaG90c0Rpc3BsYXkuc2V0QXR0cmlidXRlKCJzcmMiLCBpbWFnZXNbaV0pOwogICAgICAvLyAgICAgc2NyZWVuc2hvdENhbnZhcy5hcHBlbmRDaGlsZChzY3JlZW5zaG90c0Rpc3BsYXkpOwogICAgICAvLyB9CiAgICAgIC8vIGFycmF5IHdoZXJlIGFsbCBzY3JlZW5zaG90cyBzaGFsbCBiZSBzdG9yZWQKICAgICAgLy8gdmFyIGltYWdlcyA9IFtdOwogICAgICAvLyB2YXIgc2NyZWVuc2hvdENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnYWxsZXJ5Q2FudmFzIik7CiAgICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDw9IGltYWdlcy5sZW5ndGg7IGkrKykgewogICAgICAvLyAgICAgaW1hZ2VzLnB1c2goc2NyZWVuc2hvdFtpXSk7CiAgICAgIC8vICAgICB2YXIgc2NyZWVuc2hvdHNEaXNwbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiQ0FOVkFTIik7CiAgICAgIC8vICAgICBzY3JlZW5zaG90c0Rpc3BsYXkuc2V0QXR0cmlidXRlKCJzcmMiLCBpbWFnZXNbaV0pOwogICAgICAvLyAgICAgc2NyZWVuc2hvdENhbnZhcy5hcHBlbmRDaGlsZChzY3JlZW5zaG90c0Rpc3BsYXkpOwogICAgICAvLyB9CiAgICAgIC8vIGFycmF5IHdoZXJlIGFsbCBzY3JlZW5zaG90cyBzaGFsbCBiZSBzdG9yZWQKCiAgICAgIHZhciBpbWFnZXMgPSBuZXcgQXJyYXkoKTsKICAgICAgdmFyIHNjcmVlbnNob3RDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2FsbGVyeUNhbnZhcyIpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gaW1hZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaW1hZ2VzW2ldID0gbmV3IEltYWdlKCk7CiAgICAgICAgaW1hZ2VzW2ldLnNyYyA9IHNjcmVlbnNob3RbaV07CiAgICAgICAgdmFyIHNjcmVlbnNob3RzRGlzcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIklNRyIpOwogICAgICAgIHNjcmVlbnNob3RzRGlzcGxheS5zZXRBdHRyaWJ1dGUoInNyYyIsIGltYWdlc1tpXS5zcmMpOwogICAgICAgIHNjcmVlbnNob3RDYW52YXMuYXBwZW5kQ2hpbGQoc2NyZWVuc2hvdHNEaXNwbGF5KTsKICAgICAgfQogICAgfQogIH0sCiAgLy9XZWJjYW0gc2hhbGwgYmUgaW5pdGlhbGl6ZWQgd2hlbiBMaXZlc3RyZWFtIEJ1dHRvbiBpcyBzZWxlY3RlZAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRWaWRlbygpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN0eWxlT2JqZWN0OiBmdW5jdGlvbiBzdHlsZU9iamVjdCgpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRFbGVtZW50cyA9PT0gMSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB3aWR0aDogIjU1dnciLAogICAgICAgICAgaGVpZ2h0OiAiMjV2aCIsCiAgICAgICAgICBwYWRkaW5nOiAiMjVweCIsCiAgICAgICAgICAiYm94LXNpemluZyI6ICJib3JkZXItYm94OyIKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB3aWR0aDogIjMydnciLAogICAgICAgICAgaGVpZ2h0OiAiMjV2aCIsCiAgICAgICAgICBwYWRkaW5nOiAiMjVweCIsCiAgICAgICAgICAiYm94LXNpemluZyI6ICJib3JkZXItYm94OyIKICAgICAgICB9OwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["stream.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"camera\" v-bind:style=\"styleObject\">\n    <video autoplay controls class=\"feed\">\n      <p>Aktuell läuft kein Livestream.</p>\n    </video>\n    <button\n      class=\"btn btn-dark btn-lg\"\n      style=\"margin-top: 7px; margin-bottom: 7px;\"\n      @click=\"this.takePicture\"\n    >\n      <i class=\"fa fa-camera\"></i>\n    </button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"camera\",\n  props: {\n    selectedElements: Number\n  },\n  methods: {\n    // initialize Webcam Livestream\n    initVideo() {\n      if (\n        \"mediaDevices\" in navigator &&\n        \"getUserMedia\" in navigator.mediaDevices\n      ) {\n        // set ratio to 16:9\n        let constraints = {\n          video: {\n            width: {\n              min: 640,\n              ideal: 1280,\n              max: 1920\n            },\n            height: {\n              min: 360,\n              ideal: 720,\n              max: 1080\n            }\n          }\n        };\n        navigator.mediaDevices.getUserMedia(constraints).then(stream => {\n          const videoPlayer = document.querySelector(\"video\");\n          videoPlayer.srcObject = stream;\n          videoPlayer.play();\n        });\n      } else {\n        alert(\"Kein Livestream verfügbar aktuell...\");\n      }\n    },\n    /*\n     *Screenshot of Livestream\n     */\n    takePicture() {\n      // pick canvas element to \"draw\" screenshot on\n      const pic = document.querySelector(\"canvas\");\n      const ctx = pic.getContext(\"2d\");\n      // setting picture quality and landscape\n      let ratio = window.innerHeight < window.innerWidth ? 16 / 9 : 9 / 16;\n      // set window width to max. of 1280px\n      pic.width = window.innerWidth < 1280 ? window.innerWidth : 1280;\n      pic.height = window.innerWidth / ratio;\n      // screenshot variable draws image\n      var screenshot = ctx.drawImage(\n        document.querySelector(\"video\"),\n        0,\n        0,\n        pic.width,\n        pic.height\n      );\n      // // array where all screenshots shall be stored\n      // var images = [];\n      // var screenshotCanvas = document.getElementById(\"galleryCanvas\");\n      // for (var i = 0; i <= images.length; i++) {\n      //     images.push(screenshot[i]);\n      //     var screenshotsDisplay = document.createElement(\"IMG\");\n      //     screenshotsDisplay.setAttribute(\"src\", images[i]);\n      //     screenshotCanvas.appendChild(screenshotsDisplay);\n      // }\n      // array where all screenshots shall be stored\n      // var images = [];\n      // var screenshotCanvas = document.getElementById(\"galleryCanvas\");\n      // for (var i = 0; i <= images.length; i++) {\n      //     images.push(screenshot[i]);\n      //     var screenshotsDisplay = document.createElement(\"CANVAS\");\n      //     screenshotsDisplay.setAttribute(\"src\", images[i]);\n      //     screenshotCanvas.appendChild(screenshotsDisplay);\n      // }\n      // array where all screenshots shall be stored\n      var images = new Array();\n      var screenshotCanvas = document.getElementById(\"galleryCanvas\");\n      for (var i = 0; i <= images.length; i++) {\n        images[i] = new Image();\n        images[i].src = screenshot[i];\n        var screenshotsDisplay = document.createElement(\"IMG\");\n        screenshotsDisplay.setAttribute(\"src\", images[i].src);\n        screenshotCanvas.appendChild(screenshotsDisplay);\n      }\n    }\n  },\n  //Webcam shall be initialized when Livestream Button is selected\n  mounted() {\n    this.initVideo();\n  },\n  computed: {\n    styleObject: function() {\n      if (this.selectedElements === 1) {\n        return {\n          width: \"55vw\",\n          height: \"25vh\",\n          padding: \"25px\",\n          \"box-sizing\": \"border-box;\"\n        };\n      } else {\n        return {\n          width: \"32vw\",\n          height: \"25vh\",\n          padding: \"25px\",\n          \"box-sizing\": \"border-box;\"\n        };\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.camera {\n  width: 65vw;\n  height: 25vh;\n  padding: 25px;\n  box-sizing: border-box;\n}\n\n.feed {\n  display: block;\n  width: 100%;\n  max-width: 1280px;\n  margin: 0 auto;\n  background-color: #171717;\n}\n</style>\n"],"sourceRoot":"src/components"}]}