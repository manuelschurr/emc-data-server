{"remainingRequest":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/babel-loader/lib/index.js!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/stream.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/stream.vue","mtime":1597225158878},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjYW1lcmEiLAogIG1ldGhvZHM6IHsKICAgIC8vIGluaXRpYWxpemUgV2ViY2FtIExpdmVzdHJlYW0KICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIGlmICgibWVkaWFEZXZpY2VzIiBpbiBuYXZpZ2F0b3IgJiYgImdldFVzZXJNZWRpYSIgaW4gbmF2aWdhdG9yLm1lZGlhRGV2aWNlcykgewogICAgICAgIC8vIHNldCByYXRpbyB0byAxNjo5CiAgICAgICAgdmFyIGNvbnN0cmFpbnRzID0gewogICAgICAgICAgdmlkZW86IHsKICAgICAgICAgICAgd2lkdGg6IHsKICAgICAgICAgICAgICBtaW46IDY0MCwKICAgICAgICAgICAgICBpZGVhbDogMTI4MCwKICAgICAgICAgICAgICBtYXg6IDE5MjAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaGVpZ2h0OiB7CiAgICAgICAgICAgICAgbWluOiAzNjAsCiAgICAgICAgICAgICAgaWRlYWw6IDcyMCwKICAgICAgICAgICAgICBtYXg6IDEwODAKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpLnRoZW4oZnVuY3Rpb24gKHN0cmVhbSkgewogICAgICAgICAgdmFyIHZpZGVvUGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigidmlkZW8iKTsKICAgICAgICAgIHZpZGVvUGxheWVyLnNyY09iamVjdCA9IHN0cmVhbTsKICAgICAgICAgIHZpZGVvUGxheWVyLnBsYXkoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydCgiS2VpbiBMaXZlc3RyZWFtIHZlcmbDvGdiYXIgYWt0dWVsbC4uLiIpOwogICAgICB9CiAgICB9LAogICAgLy8gU2NyZWVuc2hvdCBvZiBMaXZlc3RyZWFtCiAgICB0YWtlUGljdHVyZTogZnVuY3Rpb24gdGFrZVBpY3R1cmUoKSB7CiAgICAgIC8vIGRpc3BsYXkgcGljdHVyZXMgb24gR2FsbGVyeSBDYW52YXMKICAgICAgdmFyIHBpYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImNhbnZhcyIpOyAvLyBzZXR0aW5nIHBpY3R1cmUgcXVhbGl0eSBhbmQgbGFuZHNjYXBlCgogICAgICB2YXIgcmF0aW8gPSB3aW5kb3cuaW5uZXJIZWlnaHQgPCB3aW5kb3cuaW5uZXJXaWR0aCA/IDE2IC8gOSA6IDkgLyAxNjsgLy8gaWYgd2luZG93IHdpZHRoIGlzIHNtYWxsZXIgdGhlbiAxMjgwcHggdGhlbiB0YWtlIGl0cyB3aWR0aCwgZWxzZSAxMjgwcHggLSBzYW1lIGZvciBoZWlnaHQKCiAgICAgIHBpYy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIDwgMTI4MCA/IHdpbmRvdy5pbm5lcldpZHRoIDogMTI4MDsKICAgICAgcGljLmhlaWdodCA9IHdpbmRvdy5pbm5lcldpZHRoIC8gcmF0aW87CiAgICAgIHZhciBjdHggPSBwaWMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHRydWU7CiAgICAgIGN0eC5pbWFnZVNtb290aGluZ1F1YWxpdHkgPSAiaGlnaCI7CiAgICAgIGN0eC5kcmF3SW1hZ2UoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigidmlkZW8iKSwgMCwgMCwgcGljLndpZHRoLCBwaWMuaGVpZ2h0KTsKICAgIH0KICB9LAogIC8vV2ViY2FtIHNoYWxsIGJlIGluaXRpYWxpemVkIHdoZW4gTGl2ZXN0cmVhbSBCdXR0b24gaXMgc2VsZWN0ZWQKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfQp9Ow=="},{"version":3,"sources":["stream.vue"],"names":[],"mappings":";;;;;;;;;;;;AAcA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,IAFA,kBAEA;AACA,UACA,kBAAA,SAAA,IACA,kBAAA,SAAA,CAAA,YAFA,EAGA;AACA;AACA,YAAA,WAAA,GAAA;AACA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,cAAA,GAAA,EAAA,GADA;AAEA,cAAA,KAAA,EAAA,IAFA;AAGA,cAAA,GAAA,EAAA;AAHA,aADA;AAMA,YAAA,MAAA,EAAA;AACA,cAAA,GAAA,EAAA,GADA;AAEA,cAAA,KAAA,EAAA,GAFA;AAGA,cAAA,GAAA,EAAA;AAHA;AANA;AADA,SAAA;AAcA,QAAA,SAAA,CAAA,YAAA,CAAA,YAAA,CAAA,WAAA,EAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,cAAA,WAAA,GAAA,QAAA,CAAA,aAAA,CAAA,OAAA,CAAA;AACA,UAAA,WAAA,CAAA,SAAA,GAAA,MAAA;AACA,UAAA,WAAA,CAAA,IAAA;AACA,SAJA;AAKA,OAxBA,MAwBA;AACA,QAAA,KAAA,CAAA,sCAAA,CAAA;AACA;AACA,KA9BA;AA+BA;AACA,IAAA,WAhCA,yBAgCA;AACA;AACA,UAAA,GAAA,GAAA,QAAA,CAAA,aAAA,CAAA,QAAA,CAAA,CAFA,CAGA;;AACA,UAAA,KAAA,GAAA,MAAA,CAAA,WAAA,GAAA,MAAA,CAAA,UAAA,GAAA,KAAA,CAAA,GAAA,IAAA,EAAA,CAJA,CAKA;;AACA,MAAA,GAAA,CAAA,KAAA,GAAA,MAAA,CAAA,UAAA,GAAA,IAAA,GAAA,MAAA,CAAA,UAAA,GAAA,IAAA;AACA,MAAA,GAAA,CAAA,MAAA,GAAA,MAAA,CAAA,UAAA,GAAA,KAAA;AACA,UAAA,GAAA,GAAA,GAAA,CAAA,UAAA,CAAA,IAAA,CAAA;AACA,MAAA,GAAA,CAAA,qBAAA,GAAA,IAAA;AACA,MAAA,GAAA,CAAA,qBAAA,GAAA,MAAA;AACA,MAAA,GAAA,CAAA,SAAA,CACA,QAAA,CAAA,aAAA,CAAA,OAAA,CADA,EAEA,CAFA,EAGA,CAHA,EAIA,GAAA,CAAA,KAJA,EAKA,GAAA,CAAA,MALA;AAOA;AAlDA,GAFA;AAsDA;AACA,EAAA,OAvDA,qBAuDA;AACA,SAAA,IAAA;AACA;AAzDA,CAAA","sourcesContent":["<template>\n  <div class=\"camera\">\n    <video autoplay controls class=\"feed\">\n      <p>Aktuell läuft kein Livestream.</p>\n    </video>\n    <!--- <button class=\"snap\" @click=\"$emit('takePicture')\"> -->\n    <button class=\"btn btn-warning btn-lg\" style=\"margin-top: 15px; margin-bottom: 15px\" @click=\"this.takePicture\">\n      <b>Screenshot</b>\n    </button>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"camera\",\n  methods: {\n    // initialize Webcam Livestream\n    init() {\n      if (\n        \"mediaDevices\" in navigator &&\n        \"getUserMedia\" in navigator.mediaDevices\n      ) {\n        // set ratio to 16:9\n        let constraints = {\n          video: {\n            width: {\n              min: 640,\n              ideal: 1280,\n              max: 1920\n            },\n            height: {\n              min: 360,\n              ideal: 720,\n              max: 1080\n            }\n          }\n        };\n        navigator.mediaDevices.getUserMedia(constraints).then(stream => {\n          const videoPlayer = document.querySelector(\"video\");\n          videoPlayer.srcObject = stream;\n          videoPlayer.play();\n        });\n      } else {\n        alert(\"Kein Livestream verfügbar aktuell...\");\n      }\n    },\n    // Screenshot of Livestream\n    takePicture() {\n      // display pictures on Gallery Canvas\n      const pic = document.querySelector(\"canvas\");\n      // setting picture quality and landscape\n      let ratio = window.innerHeight < window.innerWidth ? 16 / 9 : 9 / 16;\n      // if window width is smaller then 1280px then take its width, else 1280px - same for height\n      pic.width = window.innerWidth < 1280 ? window.innerWidth : 1280;\n      pic.height = window.innerWidth / ratio;\n      const ctx = pic.getContext(\"2d\");\n      ctx.imageSmoothingEnabled = true;\n      ctx.imageSmoothingQuality = \"high\";\n      ctx.drawImage(\n        document.querySelector(\"video\"),\n        0,\n        0,\n        pic.width,\n        pic.height\n      );\n    }\n  },\n  //Webcam shall be initialized when Livestream Button is selected\n  mounted() {\n    this.init();\n  }\n};\n</script>\n\n<style scoped>\n.camera {\n  width: 65vw;\n  height: 25vh;\n  padding: 25px;\n  box-sizing: border-box;\n}\n\n.feed {\n  display: block;\n  width: 100%;\n  max-width: 1280px;\n  box-shadow: 4px 4px 12px 0px rgba(0, 0, 0, 0.25);\n  margin: 0 auto;\n  background-color: #171717;\n}\n</style>"],"sourceRoot":"src/components"}]}