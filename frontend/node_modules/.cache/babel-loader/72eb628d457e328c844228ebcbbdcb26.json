{"remainingRequest":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/babel-loader/lib/index.js!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/rtwSelection.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/rtwSelection.vue","mtime":1598889334271},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICIvVXNlcnMvbWFyY2d1bGRuZXIvR2l0SHViL2VtYy1kYXRhLXNlcnZlci9mcm9udGVuZC90cmF1bWEtcm9vbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgYXhpb3MgPSByZXF1aXJlKCJheGlvcyIpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSdHdTZWxlY3Rpb24iLAogIHByb3BzOiB7CiAgICBzZWxlY3RSVFc6IEZ1bmN0aW9uLAogICAgYW1idWxhbmNlczogQXJyYXkKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhcnJpdmFsVGltZXM6IFtdLAogICAgICBhbWJ1bGFuY2VzV2l0aEVUQXM6IFtdLAogICAgICBhbWJ1bGFuY2VzV2l0aE5vRVRBOiBbXSwKICAgICAgcnR3TG9jYXRpb25zOiBbIlsiLmNvbmNhdCg4LjQ4NzI1NSwgIiwgIiwgNDkuNDkyNDI3LCAiXSIpXSwKICAgICAgc3RhdGVNZXNzYWdlOiAiQmVyZWNobmUgZ2VzY2jDpHR6dGUgQW5rdW5mdHN6ZWl0IgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNvbXB1dGVFVEE6IGZ1bmN0aW9uIGNvbXB1dGVFVEEoY3VycmVudFJ0dykgewogICAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwoKICAgICAgaWYgKHRoaXMucnR3TG9jYXRpb25zLmxlbmd0aCA+IDEpIHsKICAgICAgICByZXF1ZXN0Lm9wZW4oIlBPU1QiLCAiaHR0cHM6Ly9hcGkub3BlbnJvdXRlc2VydmljZS5vcmcvdjIvbWF0cml4L2RyaXZpbmctY2FyIik7CiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLCAiYXBwbGljYXRpb24vanNvbiwgYXBwbGljYXRpb24vZ2VvK2pzb24sIGFwcGxpY2F0aW9uL2dweCt4bWwsIGltZy9wbmc7IGNoYXJzZXQ9dXRmLTgiKTsKICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsICJhcHBsaWNhdGlvbi9qc29uIik7CiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCJBdXRob3JpemF0aW9uIiwgIjViM2NlMzU5Nzg1MTExMDAwMWNmNjI0ODA4ZDFmOTU5ZGY1MzRhYzNhZGMwNjIwMjU2YTY4ZWM3IiAvL0FQSSBLZXkKICAgICAgICApOwogICAgICAgIHZhciBjb250ZXh0ID0gdGhpczsKCiAgICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAocmVxdWVzdC5yZWFkeVN0YXRlID09PSA0KSB7CiAgICAgICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgY3VycmVudFJ0dy5ldGEgPSBjb250ZXh0LnNlY1RvVGltZShKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KS5kdXJhdGlvbnNbMV1bMF0pOyAvLyBBZnRlciBjb21wdXRpbmcgdGhlIEVUQSwgdGhlIHBhdGllbnQgZGlhZ25vc2lzICg1MCBmaXJzdCBjaGFyYWN0ZXJzIG9mIHRoZSBtaXNjZWxsYW5lb3VzKSAKICAgICAgICAgICAgICAvLyBhbmQgQUJDREUgU2NoZW1hIGlzIGZldGNoZWQgZnJvbSB0aGUgc2VydmVyLgoKICAgICAgICAgICAgICB2YXIgY29uZmlnID0gewogICAgICAgICAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICAgICAgICAgIHVybDogImh0dHBzOi8vMTM0LjE1NS40OC4yMTE6MzAwMC9wYXRpZW50L2ZpbmRCeUFtYnVsYW5jZUlkLyIgKyBjdXJyZW50UnR3LmFtYnVsYW5jZUlkCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB2YXIgcGF0aWVudERhdGEgPSB7fTsKICAgICAgICAgICAgICBheGlvcyhjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAiMTAwMDAiKSB7CiAgICAgICAgICAgICAgICAgIHBhdGllbnREYXRhID0gewogICAgICAgICAgICAgICAgICAgIHBhdGllbnRJZDogcmVzcG9uc2UuZGF0YS5kYXRhLnBhdGllbnRJZCwKICAgICAgICAgICAgICAgICAgICBkaWFnbm9zaXM6IHJlc3BvbnNlLmRhdGEuZGF0YS5taXNjZWxsYW5lb3VzLnNsaWNlKDAsIDUwKSwKICAgICAgICAgICAgICAgICAgICBhYmNkZV9zY2hlbWE6IHsKICAgICAgICAgICAgICAgICAgICAgIEE6IHJlc3BvbnNlLmRhdGEuZGF0YS5BSXNTZWxlY3RlZCwKICAgICAgICAgICAgICAgICAgICAgIEI6IHJlc3BvbnNlLmRhdGEuZGF0YS5CSXNTZWxlY3RlZCwKICAgICAgICAgICAgICAgICAgICAgIEM6IHJlc3BvbnNlLmRhdGEuZGF0YS5DSXNTZWxlY3RlZCwKICAgICAgICAgICAgICAgICAgICAgIEQ6IHJlc3BvbnNlLmRhdGEuZGF0YS5ESXNTZWxlY3RlZCwKICAgICAgICAgICAgICAgICAgICAgIEU6IHJlc3BvbnNlLmRhdGEuZGF0YS5FSXNTZWxlY3RlZAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJBWElPUyBQQVRJRU5UIERBVEEgRVJST1I6ICIgKyBlcnJvcik7CiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBjdXJyZW50UnR3LnBhdGllbnRJZCA9IHBhdGllbnREYXRhLnBhdGllbnRJZDsKICAgICAgICAgICAgICAgIGN1cnJlbnRSdHcuZGlhZ25vc2lzID0gcGF0aWVudERhdGEuZGlhZ25vc2lzOwogICAgICAgICAgICAgICAgY3VycmVudFJ0dy5hYmNkZV9zY2hlbWEgPSBwYXRpZW50RGF0YS5hYmNkZV9zY2hlbWE7CiAgICAgICAgICAgICAgICBjb250ZXh0LmFtYnVsYW5jZXNXaXRoRVRBcy5wdXNoKGN1cnJlbnRSdHcpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGN1cnJlbnRSdHcuZXRhID0gIkZlaGxlciBiZWkgUm91dGVuIFNjaG5pdHRzdGVsbGUiOwogICAgICAgICAgICAgIGNvbnRleHQuYW1idWxhbmNlc1dpdGhFVEFzLnB1c2goY3VycmVudFJ0dyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICB2YXIgYm9keSA9ICJ7XCJsb2NhdGlvbnNcIjogWyIuY29uY2F0KHRoaXMucnR3TG9jYXRpb25zLCAiXX0iKTsKICAgICAgICByZXF1ZXN0LnNlbmQoYm9keSk7CiAgICAgIH0KICAgIH0sCiAgICBzZWNUb1RpbWU6IGZ1bmN0aW9uIHNlY1RvVGltZShldGFJblNlYykgewogICAgICBpZiAoIWlzTmFOKGV0YUluU2VjKSkgewogICAgICAgIHZhciBydHdUaW1lUmVkdWN0aW9uRmFjdG9yID0gMC43MzQ7CiAgICAgICAgZXRhSW5TZWMgPSBldGFJblNlYyAqIHJ0d1RpbWVSZWR1Y3Rpb25GYWN0b3I7CiAgICAgICAgdmFyIHNlY29uZHMgPSBNYXRoLmZsb29yKGV0YUluU2VjICUgNjApLnRvU3RyaW5nKCk7CiAgICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKGV0YUluU2VjIC8gNjApLnRvU3RyaW5nKCk7CgogICAgICAgIGlmIChzZWNvbmRzLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgc2Vjb25kcyA9ICIwIiArIHNlY29uZHM7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbWludXRlcyArICIgTWludXRlbiAiICsgc2Vjb25kcyArICIgU2VrdW5kZW4iOwogICAgICB9CiAgICB9LAogICAgZ2V0R25zc0RhdGE6IGZ1bmN0aW9uIGdldEduc3NEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuYW1idWxhbmNlcyksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBydHcgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBpZiAocnR3LmFtYnVsYW5jZUlkKSB7CiAgICAgICAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICAgICAgICB1cmw6ICJodHRwczovLzEzNC4xNTUuNDguMjExOjMwMDAvYW1idWxhbmNlL2ZpbmRHbnNzQnlBbWJ1bGFuY2VJZC8iICsgcnR3LmFtYnVsYW5jZUlkCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGF4aW9zKGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXNDb2RlID09PSAiMTAwMDAiKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5ydHdMb2NhdGlvbnMuc3BsaWNlKDEsIDEsICJbIi5jb25jYXQocmVzcG9uc2UuZGF0YS5kYXRhLmxvbmdpdHVkZSwgIiwgIikuY29uY2F0KHJlc3BvbnNlLmRhdGEuZGF0YS5sYXRpdHVkZSwgIl0iKSk7CgogICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRSdHc7CgogICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfdGhpcy5hbWJ1bGFuY2VzKSwKICAgICAgICAgICAgICAgICAgICBfc3RlcDI7CgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IF9zdGVwMi52YWx1ZTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YS5hbWJ1bGFuY2VJZCA9PT0gYy5hbWJ1bGFuY2VJZCkgewogICAgICAgICAgICAgICAgICAgICAgY3VycmVudFJ0dyA9IGM7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjdXJyZW50UnR3LmxvbmcgPSByZXNwb25zZS5kYXRhLmRhdGEubG9uZ2l0dWRlOwogICAgICAgICAgICAgICAgY3VycmVudFJ0dy5sYXQgPSByZXNwb25zZS5kYXRhLmRhdGEubGF0aXR1ZGU7CgogICAgICAgICAgICAgICAgX3RoaXMuY29tcHV0ZUVUQShjdXJyZW50UnR3KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgIHZhciBlcnJvcklkID0gSlNPTi5zdHJpbmdpZnkoZXJyb3IuY29uZmlnLnVybC5zbGljZSgtMSkpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJLZWluZSBHTlNTIERhdGVuIHZlcmbDvGdiYXIgZsO8ciBBbWJ1bGFuY2VJRDogIiArIGVycm9ySWQpOwogICAgICAgICAgICAgIF90aGlzLnN0YXRlTWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KGVycm9yLm1lc3NhZ2UpOyAvL2FkZCBJCgogICAgICAgICAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoX3RoaXMuYW1idWxhbmNlcyksCiAgICAgICAgICAgICAgICAgIF9zdGVwMzsKCiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgIHZhciBlYSA9IF9zdGVwMy52YWx1ZTsKCiAgICAgICAgICAgICAgICAgIGlmICgiXCIiLmNvbmNhdChlYS5hbWJ1bGFuY2VJZCwgIlwiIikgPT09IGVycm9ySWQpIHsKICAgICAgICAgICAgICAgICAgICBlYS5ldGEgPSAiS2VpbmUgR05TUyBEYXRlbiB2ZXJmw7xnYmFyIjsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYW1idWxhbmNlc1dpdGhFVEFzLnB1c2goZWEpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEduc3NEYXRhKCk7CiAgfQp9Ow=="},{"version":3,"sources":["rtwSelection.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"rtw_selection\">\n    <div>\n      <h1>\n        <img\n          style=\"vertical-align: text-top;\"\n          alt=\"Universitätsklinikum Mannheim logo\"\n          src=\"../assets/umm_logo.png\"\n          height=\"50\"\n          width=\"150\"\n        />\n        Universitätsklinikum Mannheim\n      </h1>\n      <ul v-if=\"ambulances.length\">\n        <div v-if=\"ambulancesWithETAs.length\">\n          <li\n            v-for=\"ambulance in ambulancesWithETAs\"\n            v-bind:key=\"ambulance.identifier\"\n          >\n            <p>\n              <button @click=\"selectRTW(ambulance)\">\n                <img src=\"../assets/ambulance.png\" width=\"100\" />\n                <br />\n                <br />\n                RTW - {{ ambulance.identifier }}\n                <br />\n                ETA: {{ ambulance.eta }}\n                <br />\n                Diagnose: {{ ambulance.diagnosis }}\n                <br />\n                <ul>\n                  <li\n                    v-for=\"(value, name) in ambulance.abcde_schema\"\n                    v-bind:key=\"name\"\n                  >\n                    <div class=\"text-center\">\n                      <button\n                        v-if=\"value === true\"\n                        disabled\n                        pill\n                        class=\"rounded-circle notOkABCDE\"\n                      >\n                        {{ name }}\n                      </button>\n                      <button\n                        v-else-if=\"value === false\"\n                        disabled\n                        pill\n                        class=\"rounded-circle okABCDE\"\n                      >\n                        {{ name }}\n                      </button>\n                    </div>\n                  </li>\n                </ul>\n              </button>\n            </p>\n          </li>\n        </div>\n        <div v-else class=\"d-flex justify-content-center\">\n          <div\n            class=\"spinner-border\"\n            style=\"position: fixed; top: 50%;\"\n            role=\"status\"\n          ></div>\n          <div style=\"position: fixed; top: 55%;\">{{ stateMessage }}</div>\n        </div>\n      </ul>\n      <h3 v-else>... Aktuell fahren keine RTW's das UMM an ...</h3>\n    </div>\n  </div>\n</template>\n\n<script>\nvar axios = require(\"axios\");\n\nexport default {\n  name: \"RtwSelection\",\n  props: {\n    selectRTW: Function,\n    ambulances: Array\n  },\n  data: () => ({\n    arrivalTimes: [],\n    ambulancesWithETAs: [],\n    ambulancesWithNoETA: [],\n    rtwLocations: [`[${8.487255}, ${49.492427}]`],\n    stateMessage: \"Berechne geschätzte Ankunftszeit\"\n  }),\n  methods: {\n    computeETA: function(currentRtw) {\n      let request = new XMLHttpRequest();\n      if (this.rtwLocations.length > 1) {\n        request.open(\n          \"POST\",\n          \"https://api.openrouteservice.org/v2/matrix/driving-car\"\n        );\n\n        request.setRequestHeader(\n          \"Accept\",\n          \"application/json, application/geo+json, application/gpx+xml, img/png; charset=utf-8\"\n        );\n        request.setRequestHeader(\"Content-Type\", \"application/json\");\n        request.setRequestHeader(\n          \"Authorization\",\n          \"5b3ce3597851110001cf624808d1f959df534ac3adc0620256a68ec7\" //API Key\n        );\n        let context = this;\n        request.onreadystatechange = function() {\n          if (request.readyState === 4) {\n            if (request.status === 200) {\n              currentRtw.eta = context.secToTime(\n                JSON.parse(request.responseText).durations[1][0]\n              );\n              // After computing the ETA, the patient diagnosis (50 first characters of the miscellaneous) \n              // and ABCDE Schema is fetched from the server.\n              let config = {\n                method: \"get\",\n                url:\n                  \"https://134.155.48.211:3000/patient/findByAmbulanceId/\" +\n                  currentRtw.ambulanceId\n              };\n              var patientData = {};\n              axios(config)\n                .then(response => {\n                  if (response.data.statusCode === \"10000\") {\n                    patientData = {\n                      patientId: response.data.data.patientId,\n                      diagnosis: response.data.data.miscellaneous.slice(0, 50),\n                      abcde_schema: {\n                        A: response.data.data.AIsSelected,\n                        B: response.data.data.BIsSelected,\n                        C: response.data.data.CIsSelected,\n                        D: response.data.data.DIsSelected,\n                        E: response.data.data.EIsSelected\n                      }\n                    };\n                  }\n                })\n                .catch(error => {\n                  console.log(\"AXIOS PATIENT DATA ERROR: \" + error);\n                })\n                .then(() => {\n                  currentRtw.patientId = patientData.patientId;\n                  currentRtw.diagnosis = patientData.diagnosis;\n                  currentRtw.abcde_schema = patientData.abcde_schema;\n                  context.ambulancesWithETAs.push(currentRtw);\n                });\n            } else {\n              currentRtw.eta = \"Fehler bei Routen Schnittstelle\";\n              context.ambulancesWithETAs.push(currentRtw);\n            }\n          }\n        };\n        const body = `{\"locations\": [${this.rtwLocations}]}`;\n        request.send(body);\n      }\n    },\n    secToTime: function(etaInSec) {\n      if (!isNaN(etaInSec)) {\n        const rtwTimeReductionFactor = 0.734;\n        etaInSec = etaInSec * rtwTimeReductionFactor;\n        var seconds = Math.floor(etaInSec % 60).toString();\n        var minutes = Math.floor(etaInSec / 60).toString();\n        if (seconds.length === 1) {\n          seconds = \"0\" + seconds;\n        }\n        return minutes + \" Minuten \" + seconds + \" Sekunden\";\n      }\n    },\n    getGnssData: function() {\n      for (var rtw of this.ambulances) {\n        if (rtw.ambulanceId) {\n          let config = {\n            method: \"get\",\n            url:\n              \"https://134.155.48.211:3000/ambulance/findGnssByAmbulanceId/\" +\n              rtw.ambulanceId\n          };\n\n          axios(config)\n            .then(response => {\n              if (response.data.statusCode === \"10000\") {\n                this.rtwLocations.splice(\n                  1,\n                  1,\n                  `[${response.data.data.longitude}, ${response.data.data.latitude}]`\n                );\n                var currentRtw;\n                for (var c of this.ambulances) {\n                  if (response.data.data.ambulanceId === c.ambulanceId) {\n                    currentRtw = c;\n                  }\n                }\n                currentRtw.long = response.data.data.longitude;\n                currentRtw.lat = response.data.data.latitude;\n                this.computeETA(currentRtw);\n              }\n            })\n            .catch(error => {\n              var errorId = JSON.stringify(error.config.url.slice(-1));\n              console.log(\n                \"Keine GNSS Daten verfügbar für AmbulanceID: \" + errorId\n              );\n              this.stateMessage = JSON.stringify(error.message);\n\n              //add I\n              for (var ea of this.ambulances) {\n                if (`\"${ea.ambulanceId}\"` === errorId) {\n                  ea.eta = \"Keine GNSS Daten verfügbar\";\n                  this.ambulancesWithETAs.push(ea);\n                  this.$forceUpdate();\n                }\n              }\n            });\n        }\n      }\n    }\n  },\n  mounted: function() {\n    this.getGnssData();\n  }\n};\n</script>\n\n<style scoped>\nh1 {\n  margin: 5px 0 40px;\n}\nh3 {\n  margin: 100px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 5px;\n}\nli {\n  display: inline-block;\n  margin: 5px 5px;\n}\n.okABCDE {\n  background-color: lightgreen;\n}\n.notOkABCDE {\n  background-color: lightcoral;\n}\n</style>\n"],"sourceRoot":"src/components"}]}