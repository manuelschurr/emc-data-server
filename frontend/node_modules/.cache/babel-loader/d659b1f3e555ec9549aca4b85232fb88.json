{"remainingRequest":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/babel-loader/lib/index.js!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/stream.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/stream.vue","mtime":1599127140886},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjYW1lcmEiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2aWRlbzoge30sCiAgICAgIGNhbnZhczoge30sCiAgICAgIGNhcHR1cmVzOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRWaWRlbygpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdFZpZGVvOiBmdW5jdGlvbiBpbml0VmlkZW8oKSB7CiAgICAgIHRoaXMudmlkZW8gPSB0aGlzLiRyZWZzLnZpZGVvOwoKICAgICAgaWYgKCJtZWRpYURldmljZXMiIGluIG5hdmlnYXRvciAmJiAiZ2V0VXNlck1lZGlhIiBpbiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSB7CiAgICAgICAgLy8gc2V0IHJhdGlvIHRvIDE2OjkKICAgICAgICB2YXIgY29uc3RyYWludHMgPSB7CiAgICAgICAgICB2aWRlbzogewogICAgICAgICAgICB3aWR0aDogewogICAgICAgICAgICAgIG1pbjogNjQwLAogICAgICAgICAgICAgIGlkZWFsOiAxMjgwLAogICAgICAgICAgICAgIG1heDogMTkyMAogICAgICAgICAgICB9LAogICAgICAgICAgICBoZWlnaHQ6IHsKICAgICAgICAgICAgICBtaW46IDM2MCwKICAgICAgICAgICAgICBpZGVhbDogNzIwLAogICAgICAgICAgICAgIG1heDogMTA4MAogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbihmdW5jdGlvbiAoc3RyZWFtKSB7CiAgICAgICAgICB2YXIgdmlkZW9QbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJ2aWRlbyIpOwogICAgICAgICAgdmlkZW9QbGF5ZXIuc3JjT2JqZWN0ID0gc3RyZWFtOwogICAgICAgICAgdmlkZW9QbGF5ZXIucGxheSgpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCJLZWluIExpdmVzdHJlYW0gdmVyZsO8Z2JhciBha3R1ZWxsLi4uIik7CiAgICAgIH0KICAgIH0sCiAgICBjYXB0dXJlOiBmdW5jdGlvbiBjYXB0dXJlKCkgewogICAgICAvLyB0aGlzLmNhbnZhcyA9IHRoaXMuJHJlZnMuY2FudmFzOwogICAgICAvL3RoaXMuY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiY2FudmFzIik7CiAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdhbGxlcnlDYW52YXMiKTsKICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLnZpZGVvLCAwLCAwLCA2NDAsIDQ4MCk7CiAgICAgIHRoaXMuY2FwdHVyZXMucHVzaCh0aGlzLmNhbnZhcy50b0RhdGFVUkwoImltYWdlL3BuZyIpKTsKICAgICAgdGhpcy4kcm9vdC4kZW1pdCgic2VsZWN0U2NyZWVuc2hvdHMiLCB0aGlzLmNhcHR1cmVzKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["stream.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAoBA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OATA,qBASA;AACA,SAAA,SAAA;AACA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,WAAA,KAAA,GAAA,KAAA,KAAA,CAAA,KAAA;;AACA,UACA,kBAAA,SAAA,IACA,kBAAA,SAAA,CAAA,YAFA,EAGA;AACA;AACA,YAAA,WAAA,GAAA;AACA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,cAAA,GAAA,EAAA,GADA;AAEA,cAAA,KAAA,EAAA,IAFA;AAGA,cAAA,GAAA,EAAA;AAHA,aADA;AAMA,YAAA,MAAA,EAAA;AACA,cAAA,GAAA,EAAA,GADA;AAEA,cAAA,KAAA,EAAA,GAFA;AAGA,cAAA,GAAA,EAAA;AAHA;AANA;AADA,SAAA;AAcA,QAAA,SAAA,CAAA,YAAA,CACA,YADA,CACA,WADA,EAEA,IAFA,CAEA,UAAA,MAAA,EAAA;AACA,cAAA,WAAA,GAAA,QAAA,CAAA,aAAA,CAAA,OAAA,CAAA;AACA,UAAA,WAAA,CAAA,SAAA,GAAA,MAAA;AACA,UAAA,WAAA,CAAA,IAAA;AACA,SANA;AAOA,OA1BA,MA0BA;AACA,QAAA,KAAA,CAAA,sCAAA,CAAA;AACA;AACA,KAhCA;AAiCA,IAAA,OAjCA,qBAiCA;AACA;AACA;AACA,WAAA,MAAA,GAAA,QAAA,CAAA,cAAA,CAAA,eAAA,CAAA;AACA,UAAA,OAAA,GAAA,KAAA,MAAA,CAAA,UAAA,CAAA,IAAA,CAAA;AACA,MAAA,OAAA,CAAA,SAAA,CAAA,KAAA,KAAA,EAAA,CAAA,EAAA,CAAA,EAAA,GAAA,EAAA,GAAA;AACA,WAAA,QAAA,CAAA,IAAA,CAAA,KAAA,MAAA,CAAA,SAAA,CAAA,WAAA,CAAA;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,mBAAA,EAAA,KAAA,QAAA;AACA;AAzCA;AAZA,CAAA","sourcesContent":["<template>\n    <div id=\"app\">\n        <div>\n            <video ref=\"video\" id=\"video\" width=\"1024\" height=\"576\" autoplay></video>\n        </div>\n        <div>\n            <button class=\"btn btn-dark btn-lg\" style=\"margin-top: 5px; margin-bottom: 7px\" id=\"snap\" v-on:click=\"capture()\">\n                <i class=\"fa fa-camera\"></i>\n            </button>\n        </div>\n        <canvas ref=\"canvas\" id=\"canvas\" width=\"640\" height=\"480\"></canvas>\n        <ul>\n            <li v-for=\"c in captures\" :key=\"c.id\">\n                <img v-bind:src=\"c\" height=\"50\" />\n            </li>\n        </ul>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"camera\",\n    data() {\n        return {\n            video: {},\n            canvas: {},\n            captures: [],\n        };\n    },\n    mounted() {\n        this.initVideo();\n    },\n    methods: {\n        initVideo() {\n            this.video = this.$refs.video;\n            if (\n                \"mediaDevices\" in navigator &&\n                \"getUserMedia\" in navigator.mediaDevices\n            ) {\n                // set ratio to 16:9\n                let constraints = {\n                    video: {\n                        width: {\n                            min: 640,\n                            ideal: 1280,\n                            max: 1920,\n                        },\n                        height: {\n                            min: 360,\n                            ideal: 720,\n                            max: 1080,\n                        },\n                    },\n                };\n                navigator.mediaDevices\n                    .getUserMedia(constraints)\n                    .then((stream) => {\n                        const videoPlayer = document.querySelector(\"video\");\n                        videoPlayer.srcObject = stream;\n                        videoPlayer.play();\n                    });\n            } else {\n                alert(\"Kein Livestream verf√ºgbar aktuell...\");\n            }\n        },\n        capture() {\n            // this.canvas = this.$refs.canvas;\n            //this.canvas = document.querySelector(\"canvas\");\n            this.canvas = document.getElementById(\"galleryCanvas\");\n            var context = this.canvas.getContext(\"2d\");\n            context.drawImage(this.video, 0, 0, 640, 480);\n            this.captures.push(this.canvas.toDataURL(\"image/png\"));\n            this.$root.$emit(\"selectScreenshots\", this.captures);\n        },\n    },\n};\n</script>\n\n<style scoped>\n#app {\n    text-align: center;\n    color: #2c3e50;\n    margin-top: 60px;\n}\n#video {\n    background-color: #000000;\n}\n#canvas {\n    display: none;\n}\nli {\n    display: inline;\n    padding: 5px;\n}\n</style>"],"sourceRoot":"src/components"}]}