{"remainingRequest":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/babel-loader/lib/index.js!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/rtwSelection.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/src/components/rtwSelection.vue","mtime":1599147042619},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marcguldner/GitHub/emc-data-server/frontend/trauma-room/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICIvVXNlcnMvbWFyY2d1bGRuZXIvR2l0SHViL2VtYy1kYXRhLXNlcnZlci9mcm9udGVuZC90cmF1bWEtcm9vbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgYXhpb3MgPSByZXF1aXJlKCJheGlvcyIpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSdHdTZWxlY3Rpb24iLAogIHByb3BzOiB7CiAgICBzZWxlY3RSVFc6IEZ1bmN0aW9uLAogICAgYWN0aXZlQW1idWxhbmNlczogQXJyYXksCiAgICBpbmFjdGl2ZUFtYnVsYW5jZXM6IEFycmF5CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXJyaXZhbFRpbWVzOiBbXSwKICAgICAgYW1idWxhbmNlc1dpdGhFVEFzOiBbXSwKICAgICAgYW1idWxhbmNlc1dpdGhOb0VUQTogW10sCiAgICAgIHJ0d0xvY2F0aW9uczogWyJbIi5jb25jYXQoOC40ODcyNTUsICIsICIsIDQ5LjQ5MjQyNywgIl0iKV0sCiAgICAgIHN0YXRlTWVzc2FnZTogIkJlcmVjaG5lIGdlc2Now6R0enRlIEFua3VuZnRzemVpdCIsCiAgICAgIGFyY2hpdmU6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2xhc3NBcmNoaXZlQnV0dG9uOiBmdW5jdGlvbiBjbGFzc0FyY2hpdmVCdXR0b24oKSB7CiAgICAgIGlmICh0aGlzLmFyY2hpdmUpIHsKICAgICAgICByZXR1cm4gImJ0biBidG4tc3VjY2VzcyI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICJidG4gYnRuLXNlY29uZGFyeSI7CiAgICAgIH0KICAgIH0sCiAgICB0b2dnbGVBcmNoaXZlOiBmdW5jdGlvbiB0b2dnbGVBcmNoaXZlKCkgewogICAgICB0aGlzLmFyY2hpdmUgPSAhdGhpcy5hcmNoaXZlOwogICAgfSwKICAgIGNvbXB1dGVFVEE6IGZ1bmN0aW9uIGNvbXB1dGVFVEEoY3VycmVudFJ0dykgewogICAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwoKICAgICAgaWYgKHRoaXMucnR3TG9jYXRpb25zLmxlbmd0aCA+IDEpIHsKICAgICAgICByZXF1ZXN0Lm9wZW4oIlBPU1QiLCAiaHR0cHM6Ly9hcGkub3BlbnJvdXRlc2VydmljZS5vcmcvdjIvbWF0cml4L2RyaXZpbmctY2FyIik7CiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLCAiYXBwbGljYXRpb24vanNvbiwgYXBwbGljYXRpb24vZ2VvK2pzb24sIGFwcGxpY2F0aW9uL2dweCt4bWwsIGltZy9wbmc7IGNoYXJzZXQ9dXRmLTgiKTsKICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsICJhcHBsaWNhdGlvbi9qc29uIik7CiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCJBdXRob3JpemF0aW9uIiwgIjViM2NlMzU5Nzg1MTExMDAwMWNmNjI0ODA4ZDFmOTU5ZGY1MzRhYzNhZGMwNjIwMjU2YTY4ZWM3IiAvL0FQSSBLZXkKICAgICAgICApOwogICAgICAgIHZhciBjb250ZXh0ID0gdGhpczsKCiAgICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAocmVxdWVzdC5yZWFkeVN0YXRlID09PSA0KSB7CiAgICAgICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgY3VycmVudFJ0dy5ldGEgPSBjb250ZXh0LnNlY1RvVGltZShKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KS5kdXJhdGlvbnNbMV1bMF0pOyAvLyBBZnRlciBjb21wdXRpbmcgdGhlIEVUQSwgdGhlIHBhdGllbnQgbWlzY2VsbGFuZW91cyBpbmZvcm1hdGlvbnMgKDUwIGZpcnN0IGNoYXJhY3RlcnMgb2YgdGhlIG1pc2NlbGxhbmVvdXMpCiAgICAgICAgICAgICAgLy8gYW5kIEFCQ0RFIFNjaGVtYSBpcyBmZXRjaGVkIGZyb20gdGhlIHNlcnZlci4KCiAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICAgICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgICAgICAgICB1cmw6ICJodHRwczovLzEzNC4xNTUuNDguMjExOjMwMDAvcGF0aWVudC9maW5kQnlBbWJ1bGFuY2VJZC8iICsgY3VycmVudFJ0dy5hbWJ1bGFuY2VJZAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgdmFyIHBhdGllbnREYXRhID0ge307CiAgICAgICAgICAgICAgYXhpb3MoY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZSA9PT0gIjEwMDAwIikgewogICAgICAgICAgICAgICAgICBwYXRpZW50RGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICBwYXRpZW50SWQ6IHJlc3BvbnNlLmRhdGEuZGF0YS5wYXRpZW50SWQsCiAgICAgICAgICAgICAgICAgICAgbWlzY2VsbGFuZW91czogcmVzcG9uc2UuZGF0YS5kYXRhLm1pc2NlbGxhbmVvdXMuc2xpY2UoMCwgNTApLAogICAgICAgICAgICAgICAgICAgIGFiY2RlX3NjaGVtYTogewogICAgICAgICAgICAgICAgICAgICAgQTogcmVzcG9uc2UuZGF0YS5kYXRhLkFJc1NlbGVjdGVkLAogICAgICAgICAgICAgICAgICAgICAgQjogcmVzcG9uc2UuZGF0YS5kYXRhLkJJc1NlbGVjdGVkLAogICAgICAgICAgICAgICAgICAgICAgQzogcmVzcG9uc2UuZGF0YS5kYXRhLkNJc1NlbGVjdGVkLAogICAgICAgICAgICAgICAgICAgICAgRDogcmVzcG9uc2UuZGF0YS5kYXRhLkRJc1NlbGVjdGVkLAogICAgICAgICAgICAgICAgICAgICAgRTogcmVzcG9uc2UuZGF0YS5kYXRhLkVJc1NlbGVjdGVkCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkFYSU9TIFBBVElFTlQgREFUQSBFUlJPUjogIiArIGVycm9yKTsKICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGN1cnJlbnRSdHcucGF0aWVudElkID0gcGF0aWVudERhdGEucGF0aWVudElkOwogICAgICAgICAgICAgICAgY3VycmVudFJ0dy5taXNjZWxsYW5lb3VzID0gcGF0aWVudERhdGEubWlzY2VsbGFuZW91czsKICAgICAgICAgICAgICAgIGN1cnJlbnRSdHcuYWJjZGVfc2NoZW1hID0gcGF0aWVudERhdGEuYWJjZGVfc2NoZW1hOwogICAgICAgICAgICAgICAgY29udGV4dC5hbWJ1bGFuY2VzV2l0aEVUQXMucHVzaChjdXJyZW50UnR3KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjdXJyZW50UnR3LmV0YSA9ICJGZWhsZXIgYmVpIFJvdXRlbiBTY2huaXR0c3RlbGxlIjsKICAgICAgICAgICAgICBjb250ZXh0LmFtYnVsYW5jZXNXaXRoRVRBcy5wdXNoKGN1cnJlbnRSdHcpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgdmFyIGJvZHkgPSAie1wibG9jYXRpb25zXCI6IFsiLmNvbmNhdCh0aGlzLnJ0d0xvY2F0aW9ucywgIl19Iik7CiAgICAgICAgcmVxdWVzdC5zZW5kKGJvZHkpOwogICAgICB9CiAgICB9LAogICAgc2VjVG9UaW1lOiBmdW5jdGlvbiBzZWNUb1RpbWUoZXRhSW5TZWMpIHsKICAgICAgaWYgKCFpc05hTihldGFJblNlYykpIHsKICAgICAgICB2YXIgcnR3VGltZVJlZHVjdGlvbkZhY3RvciA9IDAuNzM0OwogICAgICAgIGV0YUluU2VjID0gZXRhSW5TZWMgKiBydHdUaW1lUmVkdWN0aW9uRmFjdG9yOwogICAgICAgIHZhciBzZWNvbmRzID0gTWF0aC5mbG9vcihldGFJblNlYyAlIDYwKS50b1N0cmluZygpOwogICAgICAgIHZhciBtaW51dGVzID0gTWF0aC5mbG9vcihldGFJblNlYyAvIDYwKS50b1N0cmluZygpOwoKICAgICAgICBpZiAoc2Vjb25kcy5sZW5ndGggPT09IDEpIHsKICAgICAgICAgIHNlY29uZHMgPSAiMCIgKyBzZWNvbmRzOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG1pbnV0ZXMgKyAiIE1pbnV0ZW4gIiArIHNlY29uZHMgKyAiIFNla3VuZGVuIjsKICAgICAgfQogICAgfSwKICAgIGdldEduc3NEYXRhOiBmdW5jdGlvbiBnZXRHbnNzRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmFtYnVsYW5jZXMpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgcnR3ID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgaWYgKHJ0dy5hbWJ1bGFuY2VJZCAmJiBydHcucGF0aWVudElkICE9IDApIHsKICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgICAgICAgIHVybDogImh0dHBzOi8vMTM0LjE1NS40OC4yMTE6MzAwMC9hbWJ1bGFuY2UvZmluZEduc3NCeUFtYnVsYW5jZUlkLyIgKyBydHcuYW1idWxhbmNlSWQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgYXhpb3MoY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1c0NvZGUgPT09ICIxMDAwMCIpIHsKICAgICAgICAgICAgICAgIF90aGlzLnJ0d0xvY2F0aW9ucy5zcGxpY2UoMSwgMSwgIlsiLmNvbmNhdChyZXNwb25zZS5kYXRhLmRhdGEubG9uZ2l0dWRlLCAiLCAiKS5jb25jYXQocmVzcG9uc2UuZGF0YS5kYXRhLmxhdGl0dWRlLCAiXSIpKTsKCiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFJ0dzsKCiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKF90aGlzLmFtYnVsYW5jZXMpLAogICAgICAgICAgICAgICAgICAgIF9zdGVwMjsKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgIHZhciBjID0gX3N0ZXAyLnZhbHVlOwoKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5kYXRhLmFtYnVsYW5jZUlkID09PSBjLmFtYnVsYW5jZUlkKSB7CiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UnR3ID0gYzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGN1cnJlbnRSdHcubG9uZyA9IHJlc3BvbnNlLmRhdGEuZGF0YS5sb25naXR1ZGU7CiAgICAgICAgICAgICAgICBjdXJyZW50UnR3LmxhdCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5sYXRpdHVkZTsKCiAgICAgICAgICAgICAgICBfdGhpcy5jb21wdXRlRVRBKGN1cnJlbnRSdHcpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgdmFyIGVycm9ySWQgPSBKU09OLnN0cmluZ2lmeShlcnJvci5jb25maWcudXJsLnNsaWNlKC0xKSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIktlaW5lIEdOU1MgRGF0ZW4gdmVyZsO8Z2JhciBmw7xyIEFtYnVsYW5jZUlEOiAiICsgZXJyb3JJZCk7CiAgICAgICAgICAgICAgX3RoaXMuc3RhdGVNZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoZXJyb3IubWVzc2FnZSk7IC8vYWRkIEkKCiAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfdGhpcy5hbWJ1bGFuY2VzKSwKICAgICAgICAgICAgICAgICAgX3N0ZXAzOwoKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgdmFyIGVhID0gX3N0ZXAzLnZhbHVlOwoKICAgICAgICAgICAgICAgICAgaWYgKCJcIiIuY29uY2F0KGVhLmFtYnVsYW5jZUlkLCAiXCIiKSA9PT0gZXJyb3JJZCkgewogICAgICAgICAgICAgICAgICAgIGVhLmV0YSA9ICJLZWluZSBHTlNTIERhdGVuIHZlcmbDvGdiYXIiOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy5hbWJ1bGFuY2VzV2l0aEVUQXMucHVzaChlYSk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0R25zc0RhdGEoKTsKICB9Cn07"},{"version":3,"sources":["rtwSelection.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"rtw_selection\">\n    <div>\n      <h1>\n        <img\n          style=\"vertical-align: text-top;\"\n          alt=\"Universitätsklinikum Mannheim logo\"\n          src=\"../assets/umm_logo.png\"\n          height=\"50\"\n          width=\"150\"\n        />\n        Universitätsklinikum Mannheim\n\n        <button :class=\"classArchiveButton()\" @click=\"toggleArchive\">\n          Archiv\n        </button>\n      </h1>\n      <div v-if=\"!archive\">\n        <ul v-if=\"activeAmbulances.length\">\n          <div v-if=\"ambulancesWithETAs.length\">\n            <li\n              v-for=\"ambulance in ambulancesWithETAs\"\n              v-bind:key=\"ambulance.identifier\"\n            >\n              <div v-if=\"ambulance.patientId\">\n                <p>\n                  <button @click=\"selectRTW(ambulance)\">\n                    <img src=\"../assets/ambulance.png\" width=\"100\" />\n                    <br />\n                    <br />\n                    RTW - {{ ambulance.identifier }}\n                    <br />\n                    ETA: {{ ambulance.eta }}\n                    <br />\n                    Informationen: {{ ambulance.miscellaneous }}\n                    <br />\n                    <ul>\n                      <li\n                        v-for=\"(value, name) in ambulance.abcde_schema\"\n                        v-bind:key=\"name\"\n                      >\n                        <div class=\"text-center\">\n                          <button\n                            v-if=\"value === false\"\n                            disabled\n                            pill\n                            class=\"rounded-circle notOkABCDE\"\n                          >\n                            {{ name }}\n                          </button>\n                          <button\n                            v-else-if=\"value === true\"\n                            disabled\n                            pill\n                            class=\"rounded-circle okABCDE\"\n                          >\n                            {{ name }}\n                          </button>\n                        </div>\n                      </li>\n                    </ul>\n                  </button>\n                </p>\n              </div>\n            </li>\n          </div>\n          <div v-else class=\"d-flex justify-content-center\">\n            <div\n              class=\"spinner-border\"\n              style=\"position: fixed; top: 50%;\"\n              role=\"status\"\n            ></div>\n            <div style=\"position: fixed; top: 55%;\">{{ stateMessage }}</div>\n          </div>\n        </ul>\n        <h3 v-else>... Aktuell fahren keine RTW's das UMM an ...</h3>\n      </div>\n      <div v-else>\n        <ul v-if=\"inactiveAmbulances.length\">\n          <li\n            v-for=\"ambulance in inactiveAmbulances\"\n            v-bind:key=\"ambulance.identifier\"\n          >\n            <p>\n              <button @click=\"selectRTW(ambulance)\">\n                <img src=\"../assets/ambulance.png\" width=\"100\" />\n                <br />\n                <br />\n                RTW - {{ ambulance.identifier }}\n                <br />\n                Informationen: {{ ambulance.miscellaneous }}\n                <br />\n              </button>\n            </p>\n          </li>\n        </ul>\n        <h3 v-else>... Aktuell sind keine RTW's im Archiv ...</h3>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nvar axios = require(\"axios\");\n\nexport default {\n  name: \"RtwSelection\",\n  props: {\n    selectRTW: Function,\n    activeAmbulances: Array,\n    inactiveAmbulances: Array\n  },\n  data: () => ({\n    arrivalTimes: [],\n    ambulancesWithETAs: [],\n    ambulancesWithNoETA: [],\n    rtwLocations: [`[${8.487255}, ${49.492427}]`],\n    stateMessage: \"Berechne geschätzte Ankunftszeit\",\n    archive: false\n  }),\n  methods: {\n    classArchiveButton: function() {\n      if (this.archive) {\n        return \"btn btn-success\";\n      } else {\n        return \"btn btn-secondary\";\n      }\n    },\n    toggleArchive: function() {\n      this.archive = !this.archive;\n    },\n    computeETA: function(currentRtw) {\n      let request = new XMLHttpRequest();\n      if (this.rtwLocations.length > 1) {\n        request.open(\n          \"POST\",\n          \"https://api.openrouteservice.org/v2/matrix/driving-car\"\n        );\n\n        request.setRequestHeader(\n          \"Accept\",\n          \"application/json, application/geo+json, application/gpx+xml, img/png; charset=utf-8\"\n        );\n        request.setRequestHeader(\"Content-Type\", \"application/json\");\n        request.setRequestHeader(\n          \"Authorization\",\n          \"5b3ce3597851110001cf624808d1f959df534ac3adc0620256a68ec7\" //API Key\n        );\n        let context = this;\n        request.onreadystatechange = function() {\n          if (request.readyState === 4) {\n            if (request.status === 200) {\n              currentRtw.eta = context.secToTime(\n                JSON.parse(request.responseText).durations[1][0]\n              );\n              // After computing the ETA, the patient miscellaneous informations (50 first characters of the miscellaneous)\n              // and ABCDE Schema is fetched from the server.\n              let config = {\n                method: \"get\",\n                url:\n                  \"https://134.155.48.211:3000/patient/findByAmbulanceId/\" +\n                  currentRtw.ambulanceId\n              };\n              var patientData = {};\n              axios(config)\n                .then(response => {\n                  if (response.data.statusCode === \"10000\") {\n                    patientData = {\n                      patientId: response.data.data.patientId,\n                      miscellaneous: response.data.data.miscellaneous.slice(\n                        0,\n                        50\n                      ),\n                      abcde_schema: {\n                        A: response.data.data.AIsSelected,\n                        B: response.data.data.BIsSelected,\n                        C: response.data.data.CIsSelected,\n                        D: response.data.data.DIsSelected,\n                        E: response.data.data.EIsSelected\n                      }\n                    };\n                  }\n                })\n                .catch(error => {\n                  console.log(\"AXIOS PATIENT DATA ERROR: \" + error);\n                })\n                .then(() => {\n                  currentRtw.patientId = patientData.patientId;\n                  currentRtw.miscellaneous = patientData.miscellaneous;\n                  currentRtw.abcde_schema = patientData.abcde_schema;\n                  context.ambulancesWithETAs.push(currentRtw);\n                });\n            } else {\n              currentRtw.eta = \"Fehler bei Routen Schnittstelle\";\n              context.ambulancesWithETAs.push(currentRtw);\n            }\n          }\n        };\n        const body = `{\"locations\": [${this.rtwLocations}]}`;\n        request.send(body);\n      }\n    },\n    secToTime: function(etaInSec) {\n      if (!isNaN(etaInSec)) {\n        const rtwTimeReductionFactor = 0.734;\n        etaInSec = etaInSec * rtwTimeReductionFactor;\n        var seconds = Math.floor(etaInSec % 60).toString();\n        var minutes = Math.floor(etaInSec / 60).toString();\n        if (seconds.length === 1) {\n          seconds = \"0\" + seconds;\n        }\n        return minutes + \" Minuten \" + seconds + \" Sekunden\";\n      }\n    },\n    getGnssData: function() {\n      for (var rtw of this.ambulances) {\n        if (rtw.ambulanceId && rtw.patientId != 0) {\n          let config = {\n            method: \"get\",\n            url:\n              \"https://134.155.48.211:3000/ambulance/findGnssByAmbulanceId/\" +\n              rtw.ambulanceId\n          };\n\n          axios(config)\n            .then(response => {\n              if (response.data.statusCode === \"10000\") {\n                this.rtwLocations.splice(\n                  1,\n                  1,\n                  `[${response.data.data.longitude}, ${response.data.data.latitude}]`\n                );\n                var currentRtw;\n                for (var c of this.ambulances) {\n                  if (response.data.data.ambulanceId === c.ambulanceId) {\n                    currentRtw = c;\n                  }\n                }\n                currentRtw.long = response.data.data.longitude;\n                currentRtw.lat = response.data.data.latitude;\n                this.computeETA(currentRtw);\n              }\n            })\n            .catch(error => {\n              var errorId = JSON.stringify(error.config.url.slice(-1));\n              console.log(\n                \"Keine GNSS Daten verfügbar für AmbulanceID: \" + errorId\n              );\n              this.stateMessage = JSON.stringify(error.message);\n\n              //add I\n              for (var ea of this.ambulances) {\n                if (`\"${ea.ambulanceId}\"` === errorId) {\n                  ea.eta = \"Keine GNSS Daten verfügbar\";\n                  this.ambulancesWithETAs.push(ea);\n                  this.$forceUpdate();\n                }\n              }\n            });\n        }\n      }\n    }\n  },\n  mounted: function() {\n    this.getGnssData();\n  }\n};\n</script>\n\n<style scoped>\nh1 {\n  margin: 5px 0 40px;\n}\nh3 {\n  margin: 100px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 5px;\n}\nli {\n  display: inline-block;\n  margin: 5px 5px;\n}\n.okABCDE {\n  background-color: green;\n  color: white;\n}\n.notOkABCDE {\n  background-color: red;\n  color: white;\n}\n</style>\n"],"sourceRoot":"src/components"}]}